{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _promise = require('babel-runtime/core-js/promise');\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _batcher = require('./batcher');\n\nvar _batcher2 = _interopRequireDefault(_batcher);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar ClientMetricsBatcher = _batcher2.default.extend({\n  namespace: 'Metrics',\n  prepareItem: function prepareItem(item) {\n    // Add more defaults to payload when the clientmetrics endpoint evolves to support richer payloads\n    return _promise2.default.resolve(item);\n  },\n  prepareRequest: function prepareRequest(queue) {\n    return _promise2.default.resolve(queue);\n  },\n  submitHttpRequest: function submitHttpRequest(payload) {\n    return this.webex.request({\n      method: 'POST',\n      service: 'metrics',\n      resource: 'clientmetrics',\n      body: {\n        metrics: payload\n      }\n    });\n  }\n});\n/*!\n * Copyright (c) 2015-2019 Cisco Systems, Inc. See LICENSE file.\n */\n\n\nexports.default = ClientMetricsBatcher;","map":{"version":3,"sources":["client-metrics-batcher.js"],"names":["ClientMetricsBatcher","namespace","prepareItem","prepareRequest","submitHttpRequest","method","service","resource","body","metrics","payload"],"mappings":";;;;;;;;;;AAIA,IAAA,QAAA,GAAA,OAAA,CAAA,WAAA,CAAA;;;;;;;;;;AAEA,IAAMA,oBAAAA,GAAuB,SAAA,CAAA,OAAA,CAAA,MAAA,CAAe;AAC1CC,EAAAA,SAAAA,EAD0C,SAAA;AAG1CC,EAAAA,WAH0C,EAAA,SAAA,WAAA,CAAA,IAAA,EAGxB;AAChB;AACA,WAAO,SAAA,CAAA,OAAA,CAAA,OAAA,CAAP,IAAO,CAAP;AALwC,GAAA;AAQ1CC,EAAAA,cAR0C,EAAA,SAAA,cAAA,CAAA,KAAA,EAQpB;AACpB,WAAO,SAAA,CAAA,OAAA,CAAA,OAAA,CAAP,KAAO,CAAP;AATwC,GAAA;AAY1CC,EAAAA,iBAZ0C,EAAA,SAAA,iBAAA,CAAA,OAAA,EAYf;AACzB,WAAO,KAAA,KAAA,CAAA,OAAA,CAAmB;AACxBC,MAAAA,MAAAA,EADwB,MAAA;AAExBC,MAAAA,OAAAA,EAFwB,SAAA;AAGxBC,MAAAA,QAAAA,EAHwB,eAAA;AAIxBC,MAAAA,IAAAA,EAAM;AACJC,QAAAA,OAAAA,EAASC;AADL;AAJkB,KAAnB,CAAP;AAQD;AArByC,CAAf,CAA7B;AANA;;;;;kBA+BeV,oB","sourcesContent":["/*!\n * Copyright (c) 2015-2019 Cisco Systems, Inc. See LICENSE file.\n */\n\nimport Batcher from './batcher';\n\nconst ClientMetricsBatcher = Batcher.extend({\n  namespace: 'Metrics',\n\n  prepareItem(item) {\n    // Add more defaults to payload when the clientmetrics endpoint evolves to support richer payloads\n    return Promise.resolve(item);\n  },\n\n  prepareRequest(queue) {\n    return Promise.resolve(queue);\n  },\n\n  submitHttpRequest(payload) {\n    return this.webex.request({\n      method: 'POST',\n      service: 'metrics',\n      resource: 'clientmetrics',\n      body: {\n        metrics: payload\n      }\n    });\n  }\n\n});\n\nexport default ClientMetricsBatcher;\n"]},"metadata":{},"sourceType":"script"}