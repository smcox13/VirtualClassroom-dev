{"ast":null,"code":"import _regeneratorRuntime from\"/Users/pratison/Work/Cisco/Education/React/education-webex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/pratison/Work/Cisco/Education/React/education-webex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/pratison/Work/Cisco/Education/React/education-webex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/pratison/Work/Cisco/Education/React/education-webex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/pratison/Work/Cisco/Education/React/education-webex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/pratison/Work/Cisco/Education/React/education-webex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/pratison/Work/Cisco/Education/React/education-webex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{Button,Modal,ModalBody,ModalFooter,ModalHeader,Icon}from'@momentum-ui/react';import{Redirect}from'react-router-dom';import{requestCreateSpace}from'./Orchestrator.js';import Header from'./Header.js';var Review=/*#__PURE__*/function(_React$Component){_inherits(Review,_React$Component);var _super=_createSuper(Review);function Review(props){var _this;_classCallCheck(this,Review);_this=_super.call(this,props);_this.state={showDialog:false,showActivity:false};_this.modalDialogRef=React.createRef();_this.activityDialogRef=React.createRef();_this.saveClick=_this.saveClick.bind(_assertThisInitialized(_this));_this.editClass=_this.editClass.bind(_assertThisInitialized(_this));_this.editStudents=_this.editStudents.bind(_assertThisInitialized(_this));return _this;}_createClass(Review,[{key:\"componentDidMount\",value:function componentDidMount(){this.setState({showActivity:false});}},{key:\"editClass\",value:function editClass(e){this.props.history.push('/classroomSetup');}},{key:\"editStudents\",value:function editStudents(e){this.props.history.push('/addStudents');}},{key:\"saveClick\",value:function saveClick(e){var _this2=this;this.modalDialogRef.current.closeModal();var studentObj=JSON.parse(sessionStorage.getItem('studentList'));var participants=studentObj.map(function(student){return{email:student.email,privilege:'member'};});var teacher=sessionStorage.getItem('userInfo');participants.push({email:teacher,privilege:'owner'});var classObj=JSON.parse(sessionStorage.getItem('classObj'));var spaceInfo={caseNumber:classObj.courseNumber,event:'classroomSetup',teamId:'',title:classObj.className,type:'internal',participants:participants};// console.log(spaceInfo);\nvar classList=JSON.parse(localStorage.getItem('classList'));if(classList===null){classList=[];}this.setState({showActivity:true});_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var spaceId,classroom;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return requestCreateSpace(JSON.stringify(spaceInfo));case 2:spaceId=_context.sent;_this2.setState({showActivity:false});_this2.activityDialogRef.current.closeModal();classroom={name:\"\".concat(classObj.period,\" Period: \").concat(classObj.className),time:\"\".concat(classObj.startTime,\" - \").concat(classObj.endTime,\", \").concat(classObj.recurrence),spaceId:spaceId};classList.push(classroom);localStorage.setItem('classList',JSON.stringify(classList));_this2.props.history.push('/addClasses');case 9:case\"end\":return _context.stop();}}},_callee);}))();}},{key:\"render\",value:function render(){var _this3=this;var token=sessionStorage.getItem('access_token');if(token===null){return/*#__PURE__*/React.createElement(Redirect,{to:\"/\"});}var hideGrid={marginTop:20};var activity={display:'block',position:'fixed',width:'100%',height:'100%',top:0,left:0,background:'gray'};var className='';var courseNumber='';var period='';var time='';var recurrence='';var date='';var obj=JSON.parse(sessionStorage.getItem('classObj'));if(obj!==null){className=obj.className;courseNumber=obj.courseNumber;period=obj.period;time=\"\".concat(obj.startTime,\" - \").concat(obj.endTime);recurrence=obj.recurrence;date=obj.date;}var students=[];var studentObj=JSON.parse(sessionStorage.getItem('studentList'));if(studentObj!==null){students=studentObj;}return/*#__PURE__*/React.createElement(\"div\",{className:\"grid\",style:{paddingTop:20}},/*#__PURE__*/React.createElement(Header,{tab:\"review\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"row large-offset-1\",style:hideGrid},/*#__PURE__*/React.createElement(\"p\",{style:{fontSize:16}},\"Please review the information for the class to finish the set-up process.\")),/*#__PURE__*/React.createElement(\"div\",{className:\"row large-offset-1\",style:hideGrid},/*#__PURE__*/React.createElement(\"b\",null,\"General Info:\")),/*#__PURE__*/React.createElement(\"div\",{className:\"row large-offset-1\"},\"Class Name: \",className),/*#__PURE__*/React.createElement(\"div\",{className:\"row large-offset-1\"},\"Course Number: \",courseNumber),/*#__PURE__*/React.createElement(\"div\",{className:\"row large-offset-1\"},\"Period: \",period),/*#__PURE__*/React.createElement(\"div\",{className:\"row large-offset-1\"},\"Time: \",time),/*#__PURE__*/React.createElement(\"div\",{className:\"row large-offset-1\"},\"Recurrence: \",recurrence),/*#__PURE__*/React.createElement(\"div\",{className:\"row large-offset-1\"},\"Last Day of Class: \",date),/*#__PURE__*/React.createElement(\"div\",{className:\"row large-offset-1\"},/*#__PURE__*/React.createElement(Button,{children:\"Edit\",color:\"blue-outline\",onClick:this.editClass,style:{color:'blue',borderRadius:5},ariaPressed:false})),/*#__PURE__*/React.createElement(\"div\",{className:\"row large-offset-1\",style:hideGrid},/*#__PURE__*/React.createElement(\"b\",null,\"Students (\",students.length,\" Added):\")),students.map(function(item){return/*#__PURE__*/React.createElement(\"div\",{className:\"row large-offset-1\",key:item.studentId},/*#__PURE__*/React.createElement(\"div\",{className:\"large-3 columns\"},item.studentId,\". \",item.firstName,\" \",item.lastName),/*#__PURE__*/React.createElement(\"div\",{className:\"large-9 columns\"},item.email));}),/*#__PURE__*/React.createElement(\"div\",{className:\"row large-offset-1\"},/*#__PURE__*/React.createElement(Button,{children:\"Edit\",color:\"blue-outline\",onClick:this.editStudents,style:{color:'blue',borderRadius:5},ariaPressed:false})),/*#__PURE__*/React.createElement(\"div\",{className:\"row large-offset-1\",style:{marginTop:40}},/*#__PURE__*/React.createElement(\"div\",{className:\"large-2 columns\"},/*#__PURE__*/React.createElement(Button,{children:\"Back\",color:\"blue-outline\",onClick:this.editStudents,style:{color:'blue',borderRadius:5},ariaPressed:false})),/*#__PURE__*/React.createElement(\"div\",{className:\"large-1 columns\"},/*#__PURE__*/React.createElement(Button,{children:\"Finish\",color:\"blue\",onClick:function onClick(){return _this3.setState({showDialog:true});},ariaPressed:false}))),/*#__PURE__*/React.createElement(Modal,{icon:/*#__PURE__*/React.createElement(Icon,{name:\"warning_72\",color:\"$md-yellow-50\"}),applicationId:\"app\",onHide:function onHide(){return _this3.setState({showDialog:false});},show:this.state.showDialog,ref:this.modalDialogRef,size:\"dialog\",htmlId:\"modalDialog\"},/*#__PURE__*/React.createElement(ModalHeader,{headerLabel:\"Confirm\"}),/*#__PURE__*/React.createElement(ModalBody,null,/*#__PURE__*/React.createElement(\"span\",null,\"Once you click \\u201CFinish & Create,\\u201D a Webex Teams space will be created with all of the students you added. Any changes can be made through the Webex Teams application.\")),/*#__PURE__*/React.createElement(ModalFooter,null,/*#__PURE__*/React.createElement(Button,{children:\"Back to Set Up\",onClick:function onClick(){return _this3.modalDialogRef.current.closeModal();},ariaLabel:\"Close Modal\",color:\"default\"}),/*#__PURE__*/React.createElement(Button,{children:\"Finish & Create\",onClick:this.saveClick,ariaLabel:\"Submit Form\",color:\"blue\"}))),/*#__PURE__*/React.createElement(Modal,{onHide:function onHide(){return _this3.setState({showDialog:false});},show:this.state.showActivity,ref:this.activityDialogRef,size:\"dialog\",htmlId:\"activityDialog\"},/*#__PURE__*/React.createElement(ModalHeader,{headerLabel:\"Classroom Setup in progress...\"})));}}]);return Review;}(React.Component);export default Review;","map":{"version":3,"sources":["/Users/pratison/Work/Cisco/Education/React/education-webex/src/pages/Review.js"],"names":["React","Button","Modal","ModalBody","ModalFooter","ModalHeader","Icon","Redirect","requestCreateSpace","Header","Review","props","state","showDialog","showActivity","modalDialogRef","createRef","activityDialogRef","saveClick","bind","editClass","editStudents","setState","e","history","push","current","closeModal","studentObj","JSON","parse","sessionStorage","getItem","participants","map","student","email","privilege","teacher","classObj","spaceInfo","caseNumber","courseNumber","event","teamId","title","className","type","classList","localStorage","stringify","spaceId","classroom","name","period","time","startTime","endTime","recurrence","setItem","token","hideGrid","marginTop","activity","display","position","width","height","top","left","background","date","obj","students","paddingTop","fontSize","color","borderRadius","length","item","studentId","firstName","lastName","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {\n    Button,\n    Modal,\n    ModalBody,\n    ModalFooter,\n    ModalHeader,\n    Icon\n} from '@momentum-ui/react';\nimport {\n    Redirect,\n} from 'react-router-dom';\nimport {requestCreateSpace} from './Orchestrator.js';\nimport Header from './Header.js';\n\nclass Review extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            showDialog: false,\n            showActivity: false,\n        };\n        this.modalDialogRef = React.createRef();\n        this.activityDialogRef = React.createRef();\n        this.saveClick = this.saveClick.bind(this);\n        this.editClass = this.editClass.bind(this);\n        this.editStudents = this.editStudents.bind(this);\n    }\n\n    componentDidMount(){\n        this.setState({\n            showActivity: false,\n        });\n    }\n\n    editClass(e) {\n        this.props.history.push('/classroomSetup');\n    }\n\n    editStudents(e) {\n        this.props.history.push('/addStudents');\n    }\n\n    saveClick(e) {\n        this.modalDialogRef.current.closeModal();\n\n        const studentObj = JSON.parse(sessionStorage.getItem('studentList'));\n        let participants =  studentObj.map( function(student) {\n            return ({email: student.email, privilege: 'member'});\n        });\n\n        const teacher = sessionStorage.getItem('userInfo');\n        participants.push({email: teacher, privilege: 'owner'});\n\n        const classObj = JSON.parse(sessionStorage.getItem('classObj'));\n        let spaceInfo = {\n            caseNumber: classObj.courseNumber,\n            event: 'classroomSetup',\n            teamId: '',\n            title: classObj.className,\n            type: 'internal',\n            participants: participants\n        };\n        // console.log(spaceInfo);\n\n        let classList = JSON.parse(localStorage.getItem('classList'));\n        if (classList === null) {\n            classList = [];\n        }\n\n        this.setState({\n            showActivity: true,\n        });\n\n        (async () => {\n            const spaceId = await requestCreateSpace(JSON.stringify(spaceInfo));\n\n            this.setState({\n                showActivity: false,\n            });\n            this.activityDialogRef.current.closeModal();\n\n            let classroom = {\n                name: `${classObj.period} Period: ${classObj.className}`,\n                time: `${classObj.startTime} - ${classObj.endTime}, ${classObj.recurrence}`,\n                spaceId: spaceId,\n            };\n            classList.push(classroom);\n\n            localStorage.setItem('classList', JSON.stringify(classList));\n            this.props.history.push('/addClasses');\n        })();\n\n    }\n\n    render() {\n        const token = sessionStorage.getItem('access_token');\n        if (token === null) {\n            return <Redirect to='/'/>;\n        }\n\n        const hideGrid = {\n            marginTop: 20\n        };\n\n        const activity = {\n            display: 'block',\n            position: 'fixed',\n            width: '100%',\n            height: '100%',\n            top: 0,\n            left: 0,\n            background: 'gray',\n        };\n        let className = '';\n        let courseNumber = '';\n        let period = '';\n        let time = '';\n        let recurrence = '';\n        let date = '';\n\n        const obj = JSON.parse(sessionStorage.getItem('classObj'));\n        if (obj !== null) {\n            className = obj.className;\n            courseNumber = obj.courseNumber;\n            period = obj.period;\n            time= `${obj.startTime} - ${obj.endTime}`;\n            recurrence = obj.recurrence;\n            date = obj.date;\n        }\n        let students = [];\n        const studentObj = JSON.parse(sessionStorage.getItem('studentList'));\n        if (studentObj !== null) {\n            students = studentObj;\n        }\n\n        return (\n            <div className=\"grid\" style={{paddingTop:20}}>\n                <Header tab='review'/>\n                <div className=\"row large-offset-1\"  style={hideGrid}>\n                        <p style={{fontSize:16}}>Please review the information for the class to finish the set-up process.</p>\n                </div>\n                <div className=\"row large-offset-1\" style={hideGrid}>\n                    <b>General Info:</b>\n                </div>\n                <div className=\"row large-offset-1\">\n                    Class Name: {className}\n                </div>\n                <div className=\"row large-offset-1\">\n                    Course Number: {courseNumber}\n                </div>\n                <div className=\"row large-offset-1\">\n                    Period: {period}\n                </div>\n                <div className=\"row large-offset-1\">\n                    Time: {time}\n                </div>\n                <div className=\"row large-offset-1\">\n                    Recurrence: {recurrence}\n                </div>\n                <div className=\"row large-offset-1\">\n                    Last Day of Class: {date}\n                </div>\n                <div className=\"row large-offset-1\">\n                    <Button\n                        children='Edit'\n                        color='blue-outline'\n                        onClick={this.editClass}\n                        style={{color:'blue',borderRadius:5}}\n                        ariaPressed={false}\n                      />\n                </div>\n                <div className=\"row large-offset-1\" style={hideGrid}>\n                    <b>Students ({students.length} Added):</b>\n                </div>\n                {students.map(item => (\n                    <div className=\"row large-offset-1\"  key={item.studentId}>\n                        <div className=\"large-3 columns\">\n                            {item.studentId}. {item.firstName} {item.lastName}\n                        </div>\n                        <div className=\"large-9 columns\">\n                             {item.email}\n                        </div>\n                    </div>\n                ))}\n                <div className=\"row large-offset-1\">\n                    <Button\n                        children='Edit'\n                        color='blue-outline'\n                        onClick={this.editStudents}\n                        style={{color:'blue',borderRadius:5}}\n                        ariaPressed={false}\n                      />\n                </div>\n                <div className=\"row large-offset-1\" style={{marginTop:40}}>\n                    <div className=\"large-2 columns\">\n                        <Button\n                            children='Back'\n                            color='blue-outline'\n                            onClick={this.editStudents}\n                            style={{color:'blue',borderRadius:5}}\n                            ariaPressed={false}\n                          />\n                    </div>\n                    <div className=\"large-1 columns\">\n                        <Button\n                            children='Finish'\n                            color='blue'\n                            onClick={() => this.setState({showDialog: true})}\n                            ariaPressed={false}\n                          />\n                    </div>\n                </div>\n                <Modal\n                    icon={<Icon name=\"warning_72\" color=\"$md-yellow-50\"/>}\n                    applicationId='app'\n                    onHide={() => this.setState({showDialog: false})}\n                    show={this.state.showDialog}\n                    ref={this.modalDialogRef}\n                    size='dialog'\n                    htmlId='modalDialog'\n                    >\n                <ModalHeader\n                    headerLabel='Confirm'\n                />\n                <ModalBody>\n                    <span>Once you click “Finish & Create,” a Webex Teams space will be created with all of the students you added. Any changes can be made through the Webex Teams application.</span>\n                </ModalBody>\n                <ModalFooter>\n                    <Button\n                        children='Back to Set Up'\n                        onClick={() => this.modalDialogRef.current.closeModal()}\n                        ariaLabel='Close Modal'\n                        color='default'\n                    />\n                    <Button\n                        children='Finish & Create'\n                        onClick={this.saveClick}\n                        ariaLabel='Submit Form'\n                        color='blue'\n                    />\n                </ModalFooter>\n                </Modal>\n                <Modal\n                    onHide={() => this.setState({showDialog: false})}\n                    show={this.state.showActivity}\n                    ref={this.activityDialogRef}\n                    size='dialog'\n                    htmlId='activityDialog'\n                    >\n                <ModalHeader\n                    headerLabel='Classroom Setup in progress...'\n                />\n                </Modal>\n            </div>\n        );\n    }\n}\n\nexport default Review;\n"]},"metadata":{},"sourceType":"module"}