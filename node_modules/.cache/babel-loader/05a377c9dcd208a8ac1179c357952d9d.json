{"ast":null,"code":"import _regeneratorRuntime from\"/Users/pratison/Work/Cisco/Education/React/education-webex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/pratison/Work/Cisco/Education/React/education-webex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";var API_URL='https://petee.pegatsdemo.com/prweb/PRRestService/';// Testing\nvar CLIENT_ID='40103787840015937566';var CLIENT_SECRET='4394A7AFA1AE900AD96606478619229B';export function requestAccessToken(delegate){var authInfo=\"grant_type=client_credentials&client_id=\".concat(CLIENT_ID,\"&client_secret=\").concat(CLIENT_SECRET);var requestOptions={method:'POST',headers:new Headers({'Content-Type':'application/x-www-form-urlencoded'}),body:authInfo};return fetch(\"\".concat(API_URL,\"oauth2/v1/token\"),requestOptions).then(function(response){return response.json();}).then(function(response){return sessionStorage.setItem('access_token',response.access_token);}).then(function(response){return setTimeout(delegate,100);});}export function requestCreateSpace(_x){return _requestCreateSpace.apply(this,arguments);}function _requestCreateSpace(){_requestCreateSpace=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(spaceInfo){var token,requestOptions,response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return sessionStorage.getItem('access_token');case 2:token=_context.sent;_context.next=5;return{method:'POST',headers:new Headers({Authorization:\"Bearer \".concat(token),'Content-Type':'application/json'}),body:spaceInfo};case 5:requestOptions=_context.sent;_context.prev=6;_context.next=9;return fetch(\"\".concat(API_URL,\"ControllerPilot/v1/CreateSpace\"),requestOptions);case 9:response=_context.sent;_context.next=12;return response.json();case 12:data=_context.sent;_context.next=15;return console.log(data);case 15:_context.next=17;return data.spaceID;case 17:return _context.abrupt(\"return\",_context.sent);case 20:_context.prev=20;_context.t0=_context[\"catch\"](6);console.log(_context.t0);case 23:case\"end\":return _context.stop();}}},_callee,null,[[6,20]]);}));return _requestCreateSpace.apply(this,arguments);}","map":{"version":3,"sources":["/Users/pratison/Work/Cisco/Education/React/education-webex/src/pages/Orchestrator.js"],"names":["API_URL","CLIENT_ID","CLIENT_SECRET","requestAccessToken","delegate","authInfo","requestOptions","method","headers","Headers","body","fetch","then","response","json","sessionStorage","setItem","access_token","setTimeout","requestCreateSpace","spaceInfo","getItem","token","Authorization","data","console","log","spaceID"],"mappings":"+VAAA,GAAMA,CAAAA,OAAO,CAAG,mDAAhB,CACA;AACA,GAAMC,CAAAA,SAAS,CAAG,sBAAlB,CACA,GAAMC,CAAAA,aAAa,CAAG,kCAAtB,CAEA,MAAO,SAASC,CAAAA,kBAAT,CAA4BC,QAA5B,CAAsC,CACzC,GAAMC,CAAAA,QAAQ,mDAA8CJ,SAA9C,2BAAyEC,aAAzE,CAAd,CACA,GAAMI,CAAAA,cAAc,CAAG,CACnBC,MAAM,CAAE,MADW,CAEnBC,OAAO,CAAE,GAAIC,CAAAA,OAAJ,CAAY,CACjB,eAAgB,mCADC,CAAZ,CAFU,CAKnBC,IAAI,CAAEL,QALa,CAAvB,CAQA,MAAOM,CAAAA,KAAK,WAAIX,OAAJ,oBAA8BM,cAA9B,CAAL,CACNM,IADM,CACD,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EADP,EAENF,IAFM,CAED,SAAAC,QAAQ,QAAIE,CAAAA,cAAc,CAACC,OAAf,CAAuB,cAAvB,CAAsCH,QAAQ,CAACI,YAA/C,CAAJ,EAFP,EAGNL,IAHM,CAGD,SAAAC,QAAQ,QAAIK,CAAAA,UAAU,CAACd,QAAD,CAAU,GAAV,CAAd,EAHP,CAAP,CAIH,CAED,eAAsBe,CAAAA,kBAAtB,uD,2GAAO,iBAAkCC,SAAlC,+KACiBL,CAAAA,cAAc,CAACM,OAAf,CAAuB,cAAvB,CADjB,QACGC,KADH,qCAE0B,CACzBf,MAAM,CAAE,MADiB,CAEzBC,OAAO,CAAE,GAAIC,CAAAA,OAAJ,CAAY,CACjBc,aAAa,kBAAYD,KAAZ,CADI,CAEjB,eAAgB,kBAFC,CAAZ,CAFgB,CAMzBZ,IAAI,CAAEU,SANmB,CAF1B,QAEGd,cAFH,qDAYwBK,CAAAA,KAAK,WAAIX,OAAJ,mCAA6CM,cAA7C,CAZ7B,QAYOO,QAZP,sCAaoBA,CAAAA,QAAQ,CAACC,IAAT,EAbpB,SAaOU,IAbP,sCAcOC,CAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ,CAdP,gCAecA,CAAAA,IAAI,CAACG,OAfnB,kHAiBCF,OAAO,CAACC,GAAR,cAjBD,qE","sourcesContent":["const API_URL = 'https://petee.pegatsdemo.com/prweb/PRRestService/';\n// Testing\nconst CLIENT_ID = '40103787840015937566';\nconst CLIENT_SECRET = '4394A7AFA1AE900AD96606478619229B';\n\nexport function requestAccessToken(delegate) {\n    const authInfo = `grant_type=client_credentials&client_id=${CLIENT_ID}&client_secret=${CLIENT_SECRET}`;\n    const requestOptions = {\n        method: 'POST',\n        headers: new Headers({\n            'Content-Type': 'application/x-www-form-urlencoded',\n        }),\n        body: authInfo,\n    };\n\n    return fetch(`${API_URL}oauth2/v1/token`, requestOptions)\n    .then(response => response.json())\n    .then(response => sessionStorage.setItem('access_token',response.access_token))\n    .then(response => setTimeout(delegate,100));\n}\n\nexport async function requestCreateSpace(spaceInfo) {\n    const token = await sessionStorage.getItem('access_token');\n    const requestOptions = await {\n        method: 'POST',\n        headers: new Headers({\n            Authorization: `Bearer ${token}`,\n            'Content-Type': 'application/json',\n        }),\n        body: spaceInfo,\n    };\n\n    try {\n        const response = await fetch(`${API_URL}ControllerPilot/v1/CreateSpace`, requestOptions);\n        const data = await response.json();\n        await console.log(data);\n        return await data.spaceID;\n    } catch (err) {\n        console.log(err);\n    }\n    // .then(response => response.json());\n    // .then(response => console.log(response));\n    // .then(response => setTimeout(delegate,100));\n}\n"]},"metadata":{},"sourceType":"module"}