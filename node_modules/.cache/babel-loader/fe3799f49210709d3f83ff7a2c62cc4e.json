{"ast":null,"code":"function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n/** @component time-picker */\n\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport uniqueId from 'lodash/uniqueId';\nimport TimePickerDropdown from \"./TimePickerDropdown\";\nimport TimeSelector from \"./TimeSelector\";\nimport { Input, EventOverlay } from \"./..\";\n\nvar TimePicker = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(TimePicker, _React$Component);\n\n  function TimePicker() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.state = {\n      inputId: _this.props.inputId || uniqueId('md-timepicker__input-'),\n      isOpen: false,\n      selectedTime: moment(_this.props.selectedTime),\n      activeIndex: null,\n      anchorNode: null\n    };\n\n    _this.componentDidUpdate = function (prevProps, prevState) {\n      var hourEntry = _this.hour;\n\n      if (!prevState.isOpen && _this.state.isOpen) {\n        _this.focusOnNode(hourEntry);\n      }\n    };\n\n    _this.focusOnNode = function (node) {\n      node.focus();\n    };\n\n    _this.hidePopover = function () {\n      _this.setState({\n        isOpen: false\n      });\n    };\n\n    _this.onFocus = function () {\n      _this.setState({\n        isOpen: true,\n        anchorNode: ReactDOM.findDOMNode(_this.clickTextField).parentNode\n      });\n    };\n\n    _this.onMouseDown = function () {\n      _this.setState({\n        isOpen: !_this.state.isOpen,\n        anchorNode: ReactDOM.findDOMNode(_this.clickTextField).parentNode\n      });\n    };\n\n    _this.triggerOnChange = function (dayChange) {\n      _this.props.onChange && _this.props.onChange(_this.state.selectedTime.hour(), _this.state.selectedTime.minute(), dayChange);\n    };\n\n    _this.changeTime = function (unit, change) {\n      var newTime = moment(_this.state.selectedTime).add(change, unit);\n      var dayChange = 0;\n\n      if (change >= 0) {\n        if (newTime.clone().startOf('day').isAfter(moment().startOf('day'))) {\n          newTime.add(-1, 'day');\n          dayChange = 1;\n        }\n      } else {\n        if (newTime.clone().startOf('day').isBefore(moment().startOf('day'))) {\n          newTime.add(1, 'day');\n          dayChange = -1;\n        }\n      }\n\n      _this.setState({\n        selectedTime: newTime\n      }, function () {\n        return _this.triggerOnChange(dayChange);\n      });\n    };\n\n    _this.setTime = function (hour, minute, pre) {\n      var meridianHour = pre === 'PM' && parseInt(hour) < 12 ? parseInt(hour) + 12 : pre === 'AM' && parseInt(hour) === 12 ? 0 : hour;\n\n      _this.setState({\n        selectedTime: _this.state.selectedTime.clone().hour(meridianHour).minute(minute)\n      }, function () {\n        return _this.triggerOnChange(0);\n      });\n    };\n\n    _this.onSelectKeyDown = function (unit, e) {\n      e.preventDefault();\n      var _this$props = _this.props,\n          minuteInterval = _this$props.minuteInterval,\n          militaryTime = _this$props.militaryTime;\n      var hour = !_this.hour.value && unit === 'h' ? militaryTime ? 0 : 1 : _this.hour.value;\n      var minute = !_this.minute.value && unit === 'm' ? 0 : _this.minute.value;\n      var pre = !militaryTime && _this.pre.value;\n\n      if (e.keyCode === 65 && unit === 'pre') {\n        if (_this.pre.value.includes('A')) return;\n        return _this.changeTime('h', 12);\n      } else if (e.keyCode === 80 && unit === 'pre') {\n        if (_this.pre.value.includes('P')) return;\n        return _this.changeTime('h', 12);\n      } else if (e.keyCode === 38) {\n        if (unit === 'pre') return _this.changeTime('h', 12);\n        if (unit === 'h') return _this.changeTime('h', 1);\n        return _this.changeTime(unit, minuteInterval);\n      } else if (e.keyCode === 40) {\n        if (unit === 'pre') return _this.changeTime('h', -12);\n        if (unit === 'h') return _this.changeTime('h', -1);\n        return _this.changeTime(unit, -minuteInterval);\n      } else {\n        _this.setTime(hour, minute, pre);\n      }\n    };\n\n    _this.onSelectWheel = function (unit, e) {\n      if (e.deltaY < 0) {\n        _this.changeTime(unit, 1);\n      } else if (e.deltaY > 0) {\n        _this.changeTime(unit, -1);\n      }\n\n      e.preventDefault();\n    };\n\n    return _this;\n  }\n\n  var _proto = TimePicker.prototype;\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var _this$props2 = this.props,\n        militaryTime = _this$props2.militaryTime,\n        minuteInterval = _this$props2.minuteInterval;\n    var _this$state = this.state,\n        anchorNode = _this$state.anchorNode,\n        inputId = _this$state.inputId,\n        isOpen = _this$state.isOpen; // Force the global locale onto our display moment\n\n    var selectedMoment = this.state.selectedTime.locale(moment.locale()); // Splits the moment string into seperate parts in order to add functionality to the TimePicker\n\n    var timeString = militaryTime ? selectedMoment.format('HH:mm') : selectedMoment.format('LT');\n    var hourText = selectedMoment.format(militaryTime ? 'HH' : 'hh');\n    var minuteText = selectedMoment.format('mm');\n    var postText = selectedMoment.format('A');\n    var text = React.createElement(Input, {\n      label: \"\",\n      name: inputId,\n      id: inputId,\n      onChange: function onChange() {},\n      value: timeString,\n      onMouseDown: this.onMouseDown,\n      onFocus: this.onFocus,\n      inputRef: function inputRef(ref) {\n        return _this2.clickTextField = ref;\n      },\n      readOnly: true\n    });\n    var dropdownElement = isOpen && React.createElement(EventOverlay, {\n      allowClickAway: true,\n      anchorNode: anchorNode,\n      close: this.hidePopover,\n      isOpen: isOpen\n    }, React.createElement(TimePickerDropdown, null, React.createElement(TimeSelector, {\n      unit: \"h\",\n      min: 0,\n      value: hourText,\n      onWheel: this.onSelectWheel,\n      inputRef: function inputRef(ref) {\n        return _this2.hour = ref;\n      },\n      onKeyDown: this.onSelectKeyDown,\n      onUpClick: function onUpClick() {\n        return _this2.changeTime('h', 1);\n      },\n      onDownClick: function onDownClick() {\n        return _this2.changeTime('h', -1);\n      },\n      militaryTime: militaryTime\n    }), \":\", React.createElement(TimeSelector, {\n      unit: \"m\",\n      min: 0,\n      value: minuteText,\n      onWheel: this.onSelectWheel,\n      inputRef: function inputRef(ref) {\n        return _this2.minute = ref;\n      },\n      onKeyDown: this.onSelectKeyDown,\n      onUpClick: function onUpClick() {\n        return _this2.changeTime('m', minuteInterval);\n      },\n      onDownClick: function onDownClick() {\n        return _this2.changeTime('m', -minuteInterval);\n      }\n    }), !militaryTime && React.createElement(TimeSelector, {\n      unit: \"pre\",\n      value: postText,\n      inputRef: function inputRef(ref) {\n        return _this2.pre = ref;\n      },\n      onKeyDown: this.onSelectKeyDown,\n      onWheel: this.onSelectWheel,\n      onUpClick: function onUpClick() {\n        return _this2.changeTime('h', 12);\n      },\n      onDownClick: function onDownClick() {\n        return _this2.changeTime('h', -12);\n      }\n    })));\n    return React.createElement(\"div\", {\n      className: \"md-timepicker-container\"\n    }, text, dropdownElement);\n  };\n\n  return TimePicker;\n}(React.Component);\n\nTimePicker.propTypes = {\n  /** @prop Optional CSS class name | '' */\n  className: PropTypes.string,\n\n  /** @prop Set Input element ID | '' */\n  inputId: PropTypes.string,\n\n  /** @prop Choose to use military time | false */\n  militaryTime: PropTypes.bool,\n\n  /** @prop Determine the minute interval | 1 */\n  minuteInterval: PropTypes.oneOf([1, 5, 15, 30, 60]),\n\n  /** @prop Callback function invoked when user makes a change | null */\n  onChange: PropTypes.func,\n\n  /** @prop Set the initial selected time | null */\n  selectedTime: PropTypes.instanceOf(Date)\n};\nTimePicker.defaultProps = {\n  className: '',\n  inputId: '',\n  militaryTime: false,\n  minuteInterval: 1,\n  onChange: null,\n  selectedTime: null\n};\nTimePicker.displayName = 'TimePicker';\nexport default TimePicker;","map":{"version":3,"sources":["/Users/pratison/Work/Cisco/Education/React/education-webex/node_modules/@momentum-ui/react/es/TimePicker/index.js"],"names":["_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","__proto__","React","ReactDOM","PropTypes","moment","uniqueId","TimePickerDropdown","TimeSelector","Input","EventOverlay","TimePicker","_React$Component","_this","_len","arguments","length","args","Array","_key","call","apply","concat","state","inputId","props","isOpen","selectedTime","activeIndex","anchorNode","componentDidUpdate","prevProps","prevState","hourEntry","hour","focusOnNode","node","focus","hidePopover","setState","onFocus","findDOMNode","clickTextField","parentNode","onMouseDown","triggerOnChange","dayChange","onChange","minute","changeTime","unit","change","newTime","add","clone","startOf","isAfter","isBefore","setTime","pre","meridianHour","parseInt","onSelectKeyDown","e","preventDefault","_this$props","minuteInterval","militaryTime","value","keyCode","includes","onSelectWheel","deltaY","_proto","render","_this2","_this$props2","_this$state","selectedMoment","locale","timeString","format","hourText","minuteText","postText","text","createElement","label","name","id","inputRef","ref","readOnly","dropdownElement","allowClickAway","close","min","onWheel","onKeyDown","onUpClick","onDownClick","className","Component","propTypes","string","bool","oneOf","func","instanceOf","Date","defaultProps","displayName"],"mappings":"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","sourcesContent":["function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\n/** @component time-picker */\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport uniqueId from 'lodash/uniqueId';\nimport TimePickerDropdown from \"./TimePickerDropdown\";\nimport TimeSelector from \"./TimeSelector\";\nimport { Input, EventOverlay } from \"./..\";\n\nvar TimePicker = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(TimePicker, _React$Component);\n\n  function TimePicker() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.state = {\n      inputId: _this.props.inputId || uniqueId('md-timepicker__input-'),\n      isOpen: false,\n      selectedTime: moment(_this.props.selectedTime),\n      activeIndex: null,\n      anchorNode: null\n    };\n\n    _this.componentDidUpdate = function (prevProps, prevState) {\n      var hourEntry = _this.hour;\n\n      if (!prevState.isOpen && _this.state.isOpen) {\n        _this.focusOnNode(hourEntry);\n      }\n    };\n\n    _this.focusOnNode = function (node) {\n      node.focus();\n    };\n\n    _this.hidePopover = function () {\n      _this.setState({\n        isOpen: false\n      });\n    };\n\n    _this.onFocus = function () {\n      _this.setState({\n        isOpen: true,\n        anchorNode: ReactDOM.findDOMNode(_this.clickTextField).parentNode\n      });\n    };\n\n    _this.onMouseDown = function () {\n      _this.setState({\n        isOpen: !_this.state.isOpen,\n        anchorNode: ReactDOM.findDOMNode(_this.clickTextField).parentNode\n      });\n    };\n\n    _this.triggerOnChange = function (dayChange) {\n      _this.props.onChange && _this.props.onChange(_this.state.selectedTime.hour(), _this.state.selectedTime.minute(), dayChange);\n    };\n\n    _this.changeTime = function (unit, change) {\n      var newTime = moment(_this.state.selectedTime).add(change, unit);\n      var dayChange = 0;\n\n      if (change >= 0) {\n        if (newTime.clone().startOf('day').isAfter(moment().startOf('day'))) {\n          newTime.add(-1, 'day');\n          dayChange = 1;\n        }\n      } else {\n        if (newTime.clone().startOf('day').isBefore(moment().startOf('day'))) {\n          newTime.add(1, 'day');\n          dayChange = -1;\n        }\n      }\n\n      _this.setState({\n        selectedTime: newTime\n      }, function () {\n        return _this.triggerOnChange(dayChange);\n      });\n    };\n\n    _this.setTime = function (hour, minute, pre) {\n      var meridianHour = pre === 'PM' && parseInt(hour) < 12 ? parseInt(hour) + 12 : pre === 'AM' && parseInt(hour) === 12 ? 0 : hour;\n\n      _this.setState({\n        selectedTime: _this.state.selectedTime.clone().hour(meridianHour).minute(minute)\n      }, function () {\n        return _this.triggerOnChange(0);\n      });\n    };\n\n    _this.onSelectKeyDown = function (unit, e) {\n      e.preventDefault();\n      var _this$props = _this.props,\n          minuteInterval = _this$props.minuteInterval,\n          militaryTime = _this$props.militaryTime;\n      var hour = !_this.hour.value && unit === 'h' ? militaryTime ? 0 : 1 : _this.hour.value;\n      var minute = !_this.minute.value && unit === 'm' ? 0 : _this.minute.value;\n      var pre = !militaryTime && _this.pre.value;\n\n      if (e.keyCode === 65 && unit === 'pre') {\n        if (_this.pre.value.includes('A')) return;\n        return _this.changeTime('h', 12);\n      } else if (e.keyCode === 80 && unit === 'pre') {\n        if (_this.pre.value.includes('P')) return;\n        return _this.changeTime('h', 12);\n      } else if (e.keyCode === 38) {\n        if (unit === 'pre') return _this.changeTime('h', 12);\n        if (unit === 'h') return _this.changeTime('h', 1);\n        return _this.changeTime(unit, minuteInterval);\n      } else if (e.keyCode === 40) {\n        if (unit === 'pre') return _this.changeTime('h', -12);\n        if (unit === 'h') return _this.changeTime('h', -1);\n        return _this.changeTime(unit, -minuteInterval);\n      } else {\n        _this.setTime(hour, minute, pre);\n      }\n    };\n\n    _this.onSelectWheel = function (unit, e) {\n      if (e.deltaY < 0) {\n        _this.changeTime(unit, 1);\n      } else if (e.deltaY > 0) {\n        _this.changeTime(unit, -1);\n      }\n\n      e.preventDefault();\n    };\n\n    return _this;\n  }\n\n  var _proto = TimePicker.prototype;\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var _this$props2 = this.props,\n        militaryTime = _this$props2.militaryTime,\n        minuteInterval = _this$props2.minuteInterval;\n    var _this$state = this.state,\n        anchorNode = _this$state.anchorNode,\n        inputId = _this$state.inputId,\n        isOpen = _this$state.isOpen; // Force the global locale onto our display moment\n\n    var selectedMoment = this.state.selectedTime.locale(moment.locale()); // Splits the moment string into seperate parts in order to add functionality to the TimePicker\n\n    var timeString = militaryTime ? selectedMoment.format('HH:mm') : selectedMoment.format('LT');\n    var hourText = selectedMoment.format(militaryTime ? 'HH' : 'hh');\n    var minuteText = selectedMoment.format('mm');\n    var postText = selectedMoment.format('A');\n    var text = React.createElement(Input, {\n      label: \"\",\n      name: inputId,\n      id: inputId,\n      onChange: function onChange() {},\n      value: timeString,\n      onMouseDown: this.onMouseDown,\n      onFocus: this.onFocus,\n      inputRef: function inputRef(ref) {\n        return _this2.clickTextField = ref;\n      },\n      readOnly: true\n    });\n    var dropdownElement = isOpen && React.createElement(EventOverlay, {\n      allowClickAway: true,\n      anchorNode: anchorNode,\n      close: this.hidePopover,\n      isOpen: isOpen\n    }, React.createElement(TimePickerDropdown, null, React.createElement(TimeSelector, {\n      unit: \"h\",\n      min: 0,\n      value: hourText,\n      onWheel: this.onSelectWheel,\n      inputRef: function inputRef(ref) {\n        return _this2.hour = ref;\n      },\n      onKeyDown: this.onSelectKeyDown,\n      onUpClick: function onUpClick() {\n        return _this2.changeTime('h', 1);\n      },\n      onDownClick: function onDownClick() {\n        return _this2.changeTime('h', -1);\n      },\n      militaryTime: militaryTime\n    }), \":\", React.createElement(TimeSelector, {\n      unit: \"m\",\n      min: 0,\n      value: minuteText,\n      onWheel: this.onSelectWheel,\n      inputRef: function inputRef(ref) {\n        return _this2.minute = ref;\n      },\n      onKeyDown: this.onSelectKeyDown,\n      onUpClick: function onUpClick() {\n        return _this2.changeTime('m', minuteInterval);\n      },\n      onDownClick: function onDownClick() {\n        return _this2.changeTime('m', -minuteInterval);\n      }\n    }), !militaryTime && React.createElement(TimeSelector, {\n      unit: \"pre\",\n      value: postText,\n      inputRef: function inputRef(ref) {\n        return _this2.pre = ref;\n      },\n      onKeyDown: this.onSelectKeyDown,\n      onWheel: this.onSelectWheel,\n      onUpClick: function onUpClick() {\n        return _this2.changeTime('h', 12);\n      },\n      onDownClick: function onDownClick() {\n        return _this2.changeTime('h', -12);\n      }\n    })));\n    return React.createElement(\"div\", {\n      className: \"md-timepicker-container\"\n    }, text, dropdownElement);\n  };\n\n  return TimePicker;\n}(React.Component);\n\nTimePicker.propTypes = {\n  /** @prop Optional CSS class name | '' */\n  className: PropTypes.string,\n\n  /** @prop Set Input element ID | '' */\n  inputId: PropTypes.string,\n\n  /** @prop Choose to use military time | false */\n  militaryTime: PropTypes.bool,\n\n  /** @prop Determine the minute interval | 1 */\n  minuteInterval: PropTypes.oneOf([1, 5, 15, 30, 60]),\n\n  /** @prop Callback function invoked when user makes a change | null */\n  onChange: PropTypes.func,\n\n  /** @prop Set the initial selected time | null */\n  selectedTime: PropTypes.instanceOf(Date)\n};\nTimePicker.defaultProps = {\n  className: '',\n  inputId: '',\n  militaryTime: false,\n  minuteInterval: 1,\n  onChange: null,\n  selectedTime: null\n};\nTimePicker.displayName = 'TimePicker';\nexport default TimePicker;"]},"metadata":{},"sourceType":"module"}