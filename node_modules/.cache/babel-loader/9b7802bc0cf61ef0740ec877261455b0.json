{"ast":null,"code":"function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n/**@component accordion */\n\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nvar Accordion = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Accordion, _React$Component);\n\n  function Accordion() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.state = {\n      activeIndices: _this.props.initialActive || [],\n      focus: false\n    };\n\n    _this.verifyChildren = function () {\n      var children = _this.props.children;\n      var childrenArr = React.Children.toArray(children);\n      var status = childrenArr.reduce(function (status, child) {\n        return status && child.type.displayName === 'AccordionGroup';\n      }, true);\n      return children && childrenArr.length && status;\n    };\n\n    _this.determineInitialFocus = function () {\n      var nonDisabledIndex = React.Children.toArray(_this.props.children).reduceRight(function (agg, child, idx) {\n        return !child.props.disabled ? idx : agg;\n      }, null);\n\n      _this.setFocus(nonDisabledIndex);\n    };\n\n    _this.handleClick = function (index) {\n      return _this.props.multipleVisible ? _this.setMultiple(index) : _this.setSelected(index);\n    };\n\n    _this.setMultiple = function (index) {\n      var newValues;\n      var onSelect = _this.props.onSelect;\n      var activeIndices = _this.state.activeIndices;\n      var isActive = activeIndices.includes(index);\n\n      if (isActive) {\n        newValues = activeIndices.filter(function (v) {\n          return v !== index;\n        });\n      } else {\n        newValues = activeIndices.concat(index);\n      }\n\n      _this.setFocus(index);\n\n      _this.setState(function () {\n        onSelect && onSelect(newValues);\n        return {\n          activeIndices: newValues\n        };\n      });\n    };\n\n    _this.setSelected = function (index) {\n      var activeIndices = _this.state.activeIndices;\n      var _this$props = _this.props,\n          children = _this$props.children,\n          onSelect = _this$props.onSelect; // Don't do anything if index is the same or outside of the bounds\n\n      if (activeIndices.includes(index) || index < 0 || index >= children.length) return; // Keep reference to last index for event handler\n\n      var last = activeIndices[0]; // Update state with selected index\n\n      _this.setState(function () {\n        return {\n          activeIndices: [index]\n        };\n      });\n\n      _this.setFocus(index);\n\n      onSelect && onSelect(index, last);\n    };\n\n    _this.handleKeyPress = function (e, idx, length, disabled) {\n      if (disabled) {\n        e.preventDefault();\n        e.stopPropagation();\n        return;\n      }\n\n      var newIndex, clickEvent;\n      var tgt = e.currentTarget;\n      var flag = false;\n\n      var getNewIndex = function getNewIndex(currentIndex, change) {\n        var getPossibleIndex = function getPossibleIndex() {\n          if (currentIndex + change < 0) {\n            return length;\n          } else if (currentIndex + change > length) {\n            return 0;\n          }\n\n          return currentIndex + change;\n        };\n\n        var possibleIndex = getPossibleIndex();\n        return React.Children.toArray(_this.props.children)[possibleIndex].props.disabled ? getNewIndex(possibleIndex, change) : possibleIndex;\n      };\n\n      switch (e.which) {\n        case 32:\n        case 13:\n          try {\n            clickEvent = new MouseEvent('click', {\n              view: window,\n              bubbles: true,\n              cancelable: true\n            });\n          } catch (err) {\n            if (document.createEvent) {\n              // DOM Level 3 for IE 9+\n              clickEvent = document.createEvent('MouseEvents');\n              clickEvent.initEvent('click', true, true);\n            }\n          }\n\n          tgt.dispatchEvent(clickEvent);\n          flag = true;\n          break;\n\n        case 38:\n        case 37:\n          newIndex = getNewIndex(idx, -1);\n\n          _this.setFocus(newIndex);\n\n          flag = true;\n          break;\n\n        case 39:\n        case 40:\n          newIndex = getNewIndex(idx, 1);\n\n          _this.setFocus(newIndex);\n\n          flag = true;\n          break;\n\n        case 33:\n        case 36:\n          _this.setFocus(0);\n\n          flag = true;\n          break;\n\n        case 34:\n        case 35:\n          _this.setFocus(length);\n\n          flag = true;\n          break;\n\n        default:\n          break;\n      }\n\n      if (flag) {\n        e.stopPropagation();\n        e.preventDefault();\n      }\n    };\n\n    _this.setFocus = function (index) {\n      _this.setState({\n        focus: index\n      });\n    };\n\n    return _this;\n  }\n\n  var _proto = Accordion.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    if (!this.verifyChildren()) {\n      throw new Error('Accordion should contain one or more AccordionGroup as children.');\n    }\n\n    this.determineInitialFocus();\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var _this$props2 = this.props,\n        children = _this$props2.children,\n        className = _this$props2.className,\n        showSeparator = _this$props2.showSeparator;\n    var activeIndices = this.state.activeIndices;\n    var setAccordionGroups = React.Children.map(children, function (child, idx) {\n      return React.cloneElement(child, {\n        isExpanded: !child.props.disabled && activeIndices.includes(idx),\n        onClick: function onClick() {\n          return _this2.handleClick(idx);\n        },\n        onKeyDown: function onKeyDown(e) {\n          return _this2.handleKeyPress(e, idx, children.length - 1, child.props.disabled);\n        },\n        focus: _this2.state.focus === idx,\n        showSeparator: showSeparator\n      });\n    });\n    return React.createElement(\"div\", {\n      className: 'md-accordion' + (\"\" + (className && \" \" + className || ''))\n    }, setAccordionGroups);\n  };\n\n  return Accordion;\n}(React.Component);\n\nAccordion.displayName = 'Accordion';\nAccordion.propTypes = {\n  /** @prop Children nodes to render inside Accordion | null */\n  children: PropTypes.node,\n\n  /** @prop Set to allow expansion of multiple AccordionGroups | false */\n  multipleVisible: PropTypes.bool,\n\n  /** @prop Handler to be called when the user selects Accordion | null */\n  onSelect: PropTypes.func,\n\n  /** @prop An array of indexes that are preselected | [] */\n  initialActive: PropTypes.array,\n\n  /** @prop Optional css class string | '' */\n  className: PropTypes.string,\n\n  /** @prop Optional underline under Accordion menu item | false  */\n  showSeparator: PropTypes.bool\n};\nAccordion.defaultProps = {\n  children: null,\n  multipleVisible: false,\n  onSelect: null,\n  initialActive: [],\n  className: '',\n  showSeparator: false\n};\nexport default Accordion;","map":{"version":3,"sources":["/Users/pratison/Work/Cisco/Education/React/education-webex/node_modules/@momentum-ui/react/es/Accordion/index.js"],"names":["_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","__proto__","React","PropTypes","Accordion","_React$Component","_this","_len","arguments","length","args","Array","_key","call","apply","concat","state","activeIndices","props","initialActive","focus","verifyChildren","children","childrenArr","Children","toArray","status","reduce","child","type","displayName","determineInitialFocus","nonDisabledIndex","reduceRight","agg","idx","disabled","setFocus","handleClick","index","multipleVisible","setMultiple","setSelected","newValues","onSelect","isActive","includes","filter","v","setState","_this$props","last","handleKeyPress","e","preventDefault","stopPropagation","newIndex","clickEvent","tgt","currentTarget","flag","getNewIndex","currentIndex","change","getPossibleIndex","possibleIndex","which","MouseEvent","view","window","bubbles","cancelable","err","document","createEvent","initEvent","dispatchEvent","_proto","componentDidMount","Error","render","_this2","_this$props2","className","showSeparator","setAccordionGroups","map","cloneElement","isExpanded","onClick","onKeyDown","createElement","Component","propTypes","node","bool","func","array","string","defaultProps"],"mappings":"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","sourcesContent":["function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\n/**@component accordion */\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nvar Accordion = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Accordion, _React$Component);\n\n  function Accordion() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.state = {\n      activeIndices: _this.props.initialActive || [],\n      focus: false\n    };\n\n    _this.verifyChildren = function () {\n      var children = _this.props.children;\n      var childrenArr = React.Children.toArray(children);\n      var status = childrenArr.reduce(function (status, child) {\n        return status && child.type.displayName === 'AccordionGroup';\n      }, true);\n      return children && childrenArr.length && status;\n    };\n\n    _this.determineInitialFocus = function () {\n      var nonDisabledIndex = React.Children.toArray(_this.props.children).reduceRight(function (agg, child, idx) {\n        return !child.props.disabled ? idx : agg;\n      }, null);\n\n      _this.setFocus(nonDisabledIndex);\n    };\n\n    _this.handleClick = function (index) {\n      return _this.props.multipleVisible ? _this.setMultiple(index) : _this.setSelected(index);\n    };\n\n    _this.setMultiple = function (index) {\n      var newValues;\n      var onSelect = _this.props.onSelect;\n      var activeIndices = _this.state.activeIndices;\n      var isActive = activeIndices.includes(index);\n\n      if (isActive) {\n        newValues = activeIndices.filter(function (v) {\n          return v !== index;\n        });\n      } else {\n        newValues = activeIndices.concat(index);\n      }\n\n      _this.setFocus(index);\n\n      _this.setState(function () {\n        onSelect && onSelect(newValues);\n        return {\n          activeIndices: newValues\n        };\n      });\n    };\n\n    _this.setSelected = function (index) {\n      var activeIndices = _this.state.activeIndices;\n      var _this$props = _this.props,\n          children = _this$props.children,\n          onSelect = _this$props.onSelect; // Don't do anything if index is the same or outside of the bounds\n\n      if (activeIndices.includes(index) || index < 0 || index >= children.length) return; // Keep reference to last index for event handler\n\n      var last = activeIndices[0]; // Update state with selected index\n\n      _this.setState(function () {\n        return {\n          activeIndices: [index]\n        };\n      });\n\n      _this.setFocus(index);\n\n      onSelect && onSelect(index, last);\n    };\n\n    _this.handleKeyPress = function (e, idx, length, disabled) {\n      if (disabled) {\n        e.preventDefault();\n        e.stopPropagation();\n        return;\n      }\n\n      var newIndex, clickEvent;\n      var tgt = e.currentTarget;\n      var flag = false;\n\n      var getNewIndex = function getNewIndex(currentIndex, change) {\n        var getPossibleIndex = function getPossibleIndex() {\n          if (currentIndex + change < 0) {\n            return length;\n          } else if (currentIndex + change > length) {\n            return 0;\n          }\n\n          return currentIndex + change;\n        };\n\n        var possibleIndex = getPossibleIndex();\n        return React.Children.toArray(_this.props.children)[possibleIndex].props.disabled ? getNewIndex(possibleIndex, change) : possibleIndex;\n      };\n\n      switch (e.which) {\n        case 32:\n        case 13:\n          try {\n            clickEvent = new MouseEvent('click', {\n              view: window,\n              bubbles: true,\n              cancelable: true\n            });\n          } catch (err) {\n            if (document.createEvent) {\n              // DOM Level 3 for IE 9+\n              clickEvent = document.createEvent('MouseEvents');\n              clickEvent.initEvent('click', true, true);\n            }\n          }\n\n          tgt.dispatchEvent(clickEvent);\n          flag = true;\n          break;\n\n        case 38:\n        case 37:\n          newIndex = getNewIndex(idx, -1);\n\n          _this.setFocus(newIndex);\n\n          flag = true;\n          break;\n\n        case 39:\n        case 40:\n          newIndex = getNewIndex(idx, 1);\n\n          _this.setFocus(newIndex);\n\n          flag = true;\n          break;\n\n        case 33:\n        case 36:\n          _this.setFocus(0);\n\n          flag = true;\n          break;\n\n        case 34:\n        case 35:\n          _this.setFocus(length);\n\n          flag = true;\n          break;\n\n        default:\n          break;\n      }\n\n      if (flag) {\n        e.stopPropagation();\n        e.preventDefault();\n      }\n    };\n\n    _this.setFocus = function (index) {\n      _this.setState({\n        focus: index\n      });\n    };\n\n    return _this;\n  }\n\n  var _proto = Accordion.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    if (!this.verifyChildren()) {\n      throw new Error('Accordion should contain one or more AccordionGroup as children.');\n    }\n\n    this.determineInitialFocus();\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var _this$props2 = this.props,\n        children = _this$props2.children,\n        className = _this$props2.className,\n        showSeparator = _this$props2.showSeparator;\n    var activeIndices = this.state.activeIndices;\n    var setAccordionGroups = React.Children.map(children, function (child, idx) {\n      return React.cloneElement(child, {\n        isExpanded: !child.props.disabled && activeIndices.includes(idx),\n        onClick: function onClick() {\n          return _this2.handleClick(idx);\n        },\n        onKeyDown: function onKeyDown(e) {\n          return _this2.handleKeyPress(e, idx, children.length - 1, child.props.disabled);\n        },\n        focus: _this2.state.focus === idx,\n        showSeparator: showSeparator\n      });\n    });\n    return React.createElement(\"div\", {\n      className: 'md-accordion' + (\"\" + (className && \" \" + className || ''))\n    }, setAccordionGroups);\n  };\n\n  return Accordion;\n}(React.Component);\n\nAccordion.displayName = 'Accordion';\nAccordion.propTypes = {\n  /** @prop Children nodes to render inside Accordion | null */\n  children: PropTypes.node,\n\n  /** @prop Set to allow expansion of multiple AccordionGroups | false */\n  multipleVisible: PropTypes.bool,\n\n  /** @prop Handler to be called when the user selects Accordion | null */\n  onSelect: PropTypes.func,\n\n  /** @prop An array of indexes that are preselected | [] */\n  initialActive: PropTypes.array,\n\n  /** @prop Optional css class string | '' */\n  className: PropTypes.string,\n\n  /** @prop Optional underline under Accordion menu item | false  */\n  showSeparator: PropTypes.bool\n};\nAccordion.defaultProps = {\n  children: null,\n  multipleVisible: false,\n  onSelect: null,\n  initialActive: [],\n  className: '',\n  showSeparator: false\n};\nexport default Accordion;"]},"metadata":{},"sourceType":"module"}