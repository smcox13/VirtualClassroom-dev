{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.detectSync = exports.detect = exports.HttpStatusInterceptor = exports.HttpError = exports.Interceptor = exports.ProgressEvent = exports.request = exports.defaults = undefined;\n\nvar _deleteProperty = require('babel-runtime/core-js/reflect/delete-property');\n\nvar _deleteProperty2 = _interopRequireDefault(_deleteProperty);\n\nvar _defineProperty = require('babel-runtime/core-js/reflect/define-property');\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nvar _getOwnPropertyDescriptor = require('babel-runtime/core-js/reflect/get-own-property-descriptor');\n\nvar _getOwnPropertyDescriptor2 = _interopRequireDefault(_getOwnPropertyDescriptor);\n\nvar _isString2 = require('lodash/isString');\n\nvar _isString3 = _interopRequireDefault(_isString2);\n\nvar _defaults2 = require('lodash/defaults');\n\nvar _defaults3 = _interopRequireDefault(_defaults2);\n\nvar _curry2 = require('lodash/curry');\n\nvar _curry3 = _interopRequireDefault(_curry2);\n\nvar _assign2 = require('lodash/assign');\n\nvar _assign3 = _interopRequireDefault(_assign2);\n\nvar _progressEvent = require('./progress-event');\n\nObject.defineProperty(exports, 'ProgressEvent', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_progressEvent).default;\n  }\n});\n\nvar _interceptor = require('./lib/interceptor');\n\nObject.defineProperty(exports, 'Interceptor', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_interceptor).default;\n  }\n});\n\nvar _httpError = require('./http-error');\n\nObject.defineProperty(exports, 'HttpError', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_httpError).default;\n  }\n});\n\nvar _httpStatus = require('./interceptors/http-status');\n\nObject.defineProperty(exports, 'HttpStatusInterceptor', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_httpStatus).default;\n  }\n});\n\nvar _detect = require('./lib/detect');\n\nObject.defineProperty(exports, 'detect', {\n  enumerable: true,\n  get: function get() {\n    return _detect.detect;\n  }\n});\nObject.defineProperty(exports, 'detectSync', {\n  enumerable: true,\n  get: function get() {\n    return _detect.detectSync;\n  }\n});\n\nvar _httpStatus2 = _interopRequireDefault(_httpStatus);\n\nvar _request2 = require('./request');\n\nvar _request3 = _interopRequireDefault(_request2);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n} // Curry protorequest so we generate a function with default options built in.\n\n/*!\n * Copyright (c) 2015-2019 Cisco Systems, Inc. See LICENSE file.\n */\n\n\nvar protorequest = (0, _curry3.default)(function protorequest(defaultOptions, options) {\n  // allow for options to be a string (and therefore expect options in the third\n  // position) to match request's api.\n  if ((0, _isString3.default)(options)) {\n    var uri = options;\n    /* eslint prefer-rest-params: [0] */\n\n    options = arguments[2] || {};\n    options.uri = uri;\n  } // Hide useless elements from logs\n\n\n  ['download', 'interceptors', 'logger', 'upload'].forEach(function (prop) {\n    var descriptor = (0, _getOwnPropertyDescriptor2.default)(options, prop);\n    descriptor = (0, _assign3.default)({}, descriptor, {\n      enumerable: false,\n      writable: true\n    });\n    (0, _defineProperty2.default)(options, prop, descriptor);\n  });\n  (0, _defaults3.default)(options, defaultOptions);\n\n  if (!options.json) {\n    (0, _deleteProperty2.default)(options, 'json');\n  }\n\n  options.logger = options.logger || console;\n  return (0, _request3.default)(options);\n});\nvar defaultOptions = {\n  json: true,\n  interceptors: [// Reminder: this is supposed to be an instantiated interceptor.\n  _httpStatus2.default.create()]\n};\nvar defaults = exports.defaults = protorequest;\nvar request = exports.request = protorequest(defaultOptions);","map":{"version":3,"sources":["index.js"],"names":["protorequest","uri","options","arguments","descriptor","enumerable","writable","defaultOptions","json","interceptors","HttpStatusInterceptor","defaults","request","default","detect","detectSync"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kDAyDQa,O;;;;;;;;;gDACAA,O;;;;;;;;;8CACAA,O;;;;AAtDR,IAAA,WAAA,GAAA,OAAA,CAAA,4BAAA,CAAA;;;;;+CAuDQA,O;;;;;;;;;mBACAC,M;;;;;;mBAAQC,U;;;;;;AAvDhB,IAAA,SAAA,GAAA,OAAA,CAAA,WAAA,CAAA;;;;;;;;EAEA;;AARA;;;;;AASA,IAAMf,YAAAA,GAAe,CAAA,GAAA,OAAA,CAAA,OAAA,EAAM,SAAA,YAAA,CAAA,cAAA,EAAA,OAAA,EAA+C;AACxE;AACA;AACA,MAAI,CAAA,GAAA,UAAA,CAAA,OAAA,EAAJ,OAAI,CAAJ,EAAuB;AACrB,QAAMC,GAAAA,GAAN,OAAA;AAEA;;AACAC,IAAAA,OAAAA,GAAUC,SAAAA,CAAAA,CAAAA,CAAAA,IAAVD,EAAAA;AACAA,IAAAA,OAAAA,CAAAA,GAAAA,GAAAA,GAAAA;AACD,GATuE,CAWxE;;;AACA,GAAA,UAAA,EAAA,cAAA,EAAA,QAAA,EAAA,QAAA,EAAA,OAAA,CAKU,UAAA,IAAA,EAAU;AAClB,QAAIE,UAAAA,GAAa,CAAA,GAAA,0BAAA,CAAA,OAAA,EAAA,OAAA,EAAjB,IAAiB,CAAjB;AAEAA,IAAAA,UAAAA,GAAa,CAAA,GAAA,QAAA,CAAA,OAAA,EAAA,EAAA,EAAA,UAAA,EAAuB;AAClCC,MAAAA,UAAAA,EADkC,KAAA;AAElCC,MAAAA,QAAAA,EAAU;AAFwB,KAAvB,CAAbF;AAIA,KAAA,GAAA,gBAAA,CAAA,OAAA,EAAA,OAAA,EAAA,IAAA,EAAA,UAAA;AAZF,GAAA;AAeA,GAAA,GAAA,UAAA,CAAA,OAAA,EAAA,OAAA,EAAA,cAAA;;AAEA,MAAI,CAACF,OAAAA,CAAL,IAAA,EAAmB;AACjB,KAAA,GAAA,gBAAA,CAAA,OAAA,EAAA,OAAA,EAAA,MAAA;AACD;;AAEDA,EAAAA,OAAAA,CAAAA,MAAAA,GAAiBA,OAAAA,CAAAA,MAAAA,IAAjBA,OAAAA;AAEA,SAAO,CAAA,GAAA,SAAA,CAAA,OAAA,EAAP,OAAO,CAAP;AAnCF,CAAqB,CAArB;AAsCA,IAAMK,cAAAA,GAAiB;AACrBC,EAAAA,IAAAA,EADqB,IAAA;AAErBC,EAAAA,YAAAA,EAAc,CACZ;AACAC,EAAAA,YAAAA,CAAAA,OAAAA,CAFY,MAEZA,EAFY;AAFO,CAAvB;AAQO,IAAMC,QAAAA,GAAAA,OAAAA,CAAAA,QAAAA,GAAN,YAAA;AACA,IAAMC,OAAAA,GAAAA,OAAAA,CAAAA,OAAAA,GAAUZ,YAAAA,CAAhB,cAAgBA,CAAhB","sourcesContent":["/*!\n * Copyright (c) 2015-2019 Cisco Systems, Inc. See LICENSE file.\n */\n\nimport {assign, curry, defaults as lodashDefaults, isString} from 'lodash';\nimport HttpStatusInterceptor from './interceptors/http-status';\nimport _request from './request';\n\n// Curry protorequest so we generate a function with default options built in.\nconst protorequest = curry(function protorequest(defaultOptions, options) {\n  // allow for options to be a string (and therefore expect options in the third\n  // position) to match request's api.\n  if (isString(options)) {\n    const uri = options;\n\n    /* eslint prefer-rest-params: [0] */\n    options = arguments[2] || {};\n    options.uri = uri;\n  }\n\n  // Hide useless elements from logs\n  [\n    'download',\n    'interceptors',\n    'logger',\n    'upload'\n  ].forEach((prop) => {\n    let descriptor = Reflect.getOwnPropertyDescriptor(options, prop);\n\n    descriptor = assign({}, descriptor, {\n      enumerable: false,\n      writable: true\n    });\n    Reflect.defineProperty(options, prop, descriptor);\n  });\n\n  lodashDefaults(options, defaultOptions);\n\n  if (!options.json) {\n    Reflect.deleteProperty(options, 'json');\n  }\n\n  options.logger = options.logger || console;\n\n  return _request(options);\n});\n\nconst defaultOptions = {\n  json: true,\n  interceptors: [\n    // Reminder: this is supposed to be an instantiated interceptor.\n    HttpStatusInterceptor.create()\n  ]\n};\n\nexport const defaults = protorequest;\nexport const request = protorequest(defaultOptions);\nexport {default as ProgressEvent} from './progress-event';\nexport {default as Interceptor} from './lib/interceptor';\nexport {default as HttpError} from './http-error';\nexport {default as HttpStatusInterceptor} from './interceptors/http-status';\nexport {detect, detectSync} from './lib/detect';\n"]},"metadata":{},"sourceType":"script"}