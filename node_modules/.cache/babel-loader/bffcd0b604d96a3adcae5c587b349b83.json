{"ast":null,"code":"function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport omit from 'lodash/omit';\nimport mapContextToProps from '@restart/context/mapContextToProps';\nimport qsa from 'dom-helpers/query/querySelectorAll';\nimport { UIDReset } from 'react-uid';\nimport SelectableContext from \"../SelectableContext\";\nimport ListContext from \"../ListContext\";\nimport MenuContext from \"../MenuContext\";\n\nvar Menu = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Menu, _React$Component);\n\n  function Menu(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n\n    _this.getFocusableItems = function (node, selector) {\n      var defaultSelector = '.md-list-item:not(.disabled):not(:disabled)' + ':not(.md-list-item--read-only)';\n      return qsa(node, selector || defaultSelector);\n    };\n\n    _this.getIncludesFirstCharacter = function (str, char) {\n      return str.charAt(0).toLowerCase().includes(char);\n    };\n\n    _this.handleSelect = function (e, opts) {\n      var _this$props = _this.props,\n          onSelect = _this$props.onSelect,\n          parentOnSelect = _this$props.parentOnSelect;\n      var eventKey = opts.eventKey,\n          element = opts.element;\n      var children = element.props.children;\n      _this._selectRefocus = true;\n\n      _this.setState(function (state) {\n        return {\n          activeElement: children ? element : null,\n          currentElements: children ? [eventKey] : [state.currentElements[0]],\n          listContext: _extends({}, state.listContext, {\n            focus: children ? eventKey : state.currentElements[0],\n            active: [eventKey]\n          })\n        };\n      }, function () {\n        onSelect && onSelect(e, {\n          eventKey: eventKey,\n          element: element\n        });\n        parentOnSelect && parentOnSelect(e, {\n          eventKey: eventKey,\n          element: element\n        });\n      });\n    };\n\n    _this.setFocus = function (child, isParent, isChild) {\n      var currentElements = _this.state.currentElements;\n\n      var getCurrentElements = function getCurrentElements() {\n        if (isParent) {\n          return [child.attributes['data-md-event-key'].value];\n        } else if (isChild) {\n          return currentElements.concat(child.attributes['data-md-event-key'].value);\n        } else null;\n      };\n\n      _this.setState(function (state) {\n        return {\n          currentElements: getCurrentElements(),\n          listContext: _extends({}, state.listContext, {\n            focus: child.attributes['data-md-event-key'].value\n          })\n        };\n      });\n    };\n\n    _this.setFocusByFirstCharacter = function (element, char) {\n      var _this$state = _this.state,\n          currentElements = _this$state.currentElements,\n          listContext = _this$state.listContext;\n\n      var items = _this.getFocusableItems(element);\n\n      var focusIdx = listContext.focus && items.indexOf(element.querySelector(\"[data-md-event-key=\\\"\" + listContext.focus + \"\\\"]\")) || 0;\n      var length = items.length && items.length - 1 || 0;\n      var newFocusKey = items.reduce(function (agg, item, idx, arr) {\n        var index = focusIdx + idx + 1 > length ? Math.abs(focusIdx + idx - length) : focusIdx + idx + 1;\n        return !agg && arr[index].attributes['data-md-keyboard-key'] && arr[index].attributes['data-md-keyboard-key'].value && _this.getIncludesFirstCharacter(arr[index].attributes['data-md-keyboard-key'].value, char) ? arr[index].attributes['data-md-event-key'].value : agg;\n      }, null);\n      typeof newFocusKey === 'string' && newFocusKey !== focus && _this.setState(function (state) {\n        return {\n          currentElements: !currentElements.length ? [].concat(newFocusKey) : [].concat(currentElements.slice(0, currentElements.length - 1), [newFocusKey]),\n          listContext: _extends({}, state.listContext, {\n            focus: newFocusKey\n          })\n        };\n      });\n    };\n\n    _this.handleKeyDown = function (e, opts) {\n      var element = opts.element;\n      var _this$state2 = _this.state,\n          activeElement = _this$state2.activeElement,\n          currentElements = _this$state2.currentElements;\n      var char = e.key;\n      var target = e.currentTarget;\n      var activeParent = activeElement ? qsa(ReactDOM.findDOMNode(activeElement), '.md-menu-item-container')[0] : _this.menuNode;\n\n      var isPrintableCharacter = function isPrintableCharacter(char) {\n        return char.length === 1 && char.match(/\\S/);\n      };\n\n      var flag = false;\n\n      switch (e.which) {\n        case 38:\n          //up\n          _this.getNextFocusedChild(activeParent, target, -1);\n\n          flag = true;\n          break;\n\n        case 40:\n          //down\n          _this.getNextFocusedChild(activeParent, target, 1);\n\n          flag = true;\n          break;\n\n        case 39:\n          //right\n          element.constructor && element.constructor.displayName && element.constructor.displayName === 'SubMenu' && _this.handleSelect(e, opts);\n          flag = true;\n          break;\n\n        case 37:\n          //left\n          currentElements.length - 1 && _this.setState(function (state) {\n            return {\n              currentElements: state.currentElements.slice(0, currentElements.length - 1),\n              activeElement: null,\n              listContext: {\n                focus: state.currentElements.length ? state.currentElements[0] : state.listContext.focus,\n                active: []\n              }\n            };\n          });\n          flag = true;\n          break;\n\n        case 33:\n        case 36:\n          //home or page up\n          _this.setFocusToLimit(activeParent, 'start');\n\n          flag = true;\n          break;\n\n        case 34:\n        case 35:\n          //end or page down\n          _this.setFocusToLimit(activeParent, 'end');\n\n          flag = true;\n          break;\n\n        default:\n          if (isPrintableCharacter(char)) {\n            _this.setFocusByFirstCharacter(activeParent, char);\n\n            flag = true;\n          }\n\n          break;\n      }\n\n      if (flag) {\n        e.stopPropagation();\n        e.preventDefault();\n      }\n    };\n\n    _this.state = {\n      currentElements: null,\n      activeElement: null,\n      listContext: {\n        active: [],\n        focus: null\n      },\n      selectContext: {\n        parentKeyDown: _this.handleKeyDown,\n        parentOnSelect: _this.handleSelect\n      }\n    };\n    return _this;\n  }\n\n  var _proto = Menu.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var menuItems = this.getFocusableItems(this.menuNode);\n    menuItems.length && this.setFocus(menuItems[0], true);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    if (!this.menuNode) return;\n    var focusFirst = this.props.focusFirst;\n    var _this$state3 = this.state,\n        activeElement = _this$state3.activeElement,\n        listContext = _this$state3.listContext;\n\n    if (prevState.listContext !== listContext) {\n      if (activeElement && this._selectRefocus) {\n        var activeNode = ReactDOM.findDOMNode(activeElement);\n        var overlayItems = this.getFocusableItems(activeNode, '.md-menu-item-container');\n        var items = overlayItems.length && this.getFocusableItems(overlayItems[0]);\n        this._selectRefocus = false;\n        items.length && this.setFocus(items[0], false, true);\n      } else if (listContext.focus !== prevState.listContext.focus) {\n        if (!prevState.listContext.focus && !focusFirst) {\n          return;\n        }\n\n        this.menuNode.querySelector(\"[data-md-event-key=\\\"\" + listContext.focus + \"\\\"]\").focus();\n      }\n    }\n  };\n\n  _proto.getNextFocusedChild = function getNextFocusedChild(element, current, offset) {\n    if (!element) return null;\n    var _this$state4 = this.state,\n        currentElements = _this$state4.currentElements,\n        listContext = _this$state4.listContext;\n    var items = this.getFocusableItems(element);\n    var possibleIndex = items.indexOf(current) + offset;\n\n    var getIndex = function getIndex() {\n      if (possibleIndex < 0) {\n        return items.length - 1;\n      } else if (possibleIndex > items.length - 1) {\n        return 0;\n      } else return possibleIndex;\n    };\n\n    var newFocusKey = items[getIndex()].attributes['data-md-event-key'].value;\n    newFocusKey !== listContext.focus && this.setState({\n      currentElements: !currentElements.length ? [].concat(newFocusKey) : [].concat(currentElements.slice(0, currentElements.length - 1), [newFocusKey]),\n      listContext: _extends({}, listContext, {\n        focus: newFocusKey\n      })\n    });\n  };\n\n  _proto.setFocusToLimit = function setFocusToLimit(element, target) {\n    if (!element) return null;\n    var _this$state5 = this.state,\n        currentElements = _this$state5.currentElements,\n        listContext = _this$state5.listContext;\n    var items = this.getFocusableItems(element);\n    var newFocusKey = items[target === 'start' ? 0 : items.length - 1].attributes['data-md-event-key'].value;\n    newFocusKey !== listContext.focus && this.setState({\n      currentElements: !currentElements.length ? [].concat(newFocusKey) : [].concat(currentElements.slice(0, currentElements.length - 1), [newFocusKey]),\n      listContext: _extends({}, listContext, {\n        focus: newFocusKey\n      })\n    });\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var _this$props2 = this.props,\n        ariaLabel = _this$props2.ariaLabel,\n        children = _this$props2.children,\n        className = _this$props2.className,\n        props = _objectWithoutPropertiesLoose(_this$props2, [\"ariaLabel\", \"children\", \"className\"]);\n\n    var _this$state6 = this.state,\n        listContext = _this$state6.listContext,\n        selectContext = _this$state6.selectContext;\n    var otherProps = omit(_extends({}, props), ['focusFirst', 'parentOnSelect']);\n    return React.createElement(SelectableContext.Provider, {\n      value: selectContext\n    }, React.createElement(ListContext.Provider, {\n      value: listContext\n    }, React.createElement(\"div\", _extends({\n      className: 'md-menu' + ' md-menu-item-container' + (\"\" + (className && \" \" + className || '')),\n      \"aria-label\": ariaLabel,\n      ref: function ref(_ref) {\n        return _this2.menuNode = _ref;\n      },\n      role: \"menubar\",\n      tabIndex: -1\n    }, otherProps), React.createElement(UIDReset, null, children))));\n  };\n\n  return Menu;\n}(React.Component);\n\nMenu.propTypes = {\n  /** @prop Text to display for accessibility features | ''  */\n  ariaLabel: PropTypes.string,\n\n  /** @prop Children nodes to render inside Menu | null */\n  children: PropTypes.node,\n\n  /** @prop Optional css class name | '' */\n  className: PropTypes.string,\n\n  /** @prop Sets first Menu item to have focus | true */\n  focusFirst: PropTypes.bool,\n\n  /** @prop Callback function invoked when user selects | null */\n  onSelect: PropTypes.func,\n  // Internal Context Use Only\n  parentOnSelect: PropTypes.func\n};\nMenu.defaultProps = {\n  ariaLabel: '',\n  children: null,\n  className: '',\n  focusFirst: true,\n  onSelect: null,\n  parentOnSelect: null\n};\nMenu.displayName = 'Menu';\nexport default mapContextToProps(MenuContext, function (context) {\n  return context;\n}, Menu);","map":{"version":3,"sources":["/Users/pratison/Work/Cisco/Education/React/education-webex/node_modules/@momentum-ui/react/es/Menu/index.js"],"names":["_objectWithoutPropertiesLoose","source","excluded","target","sourceKeys","Object","keys","key","i","length","indexOf","_extends","assign","arguments","prototype","hasOwnProperty","call","apply","_inheritsLoose","subClass","superClass","create","constructor","__proto__","React","ReactDOM","PropTypes","omit","mapContextToProps","qsa","UIDReset","SelectableContext","ListContext","MenuContext","Menu","_React$Component","props","_this","getFocusableItems","node","selector","defaultSelector","getIncludesFirstCharacter","str","char","charAt","toLowerCase","includes","handleSelect","e","opts","_this$props","onSelect","parentOnSelect","eventKey","element","children","_selectRefocus","setState","state","activeElement","currentElements","listContext","focus","active","setFocus","child","isParent","isChild","getCurrentElements","attributes","value","concat","setFocusByFirstCharacter","_this$state","items","focusIdx","querySelector","newFocusKey","reduce","agg","item","idx","arr","index","Math","abs","slice","handleKeyDown","_this$state2","currentTarget","activeParent","findDOMNode","menuNode","isPrintableCharacter","match","flag","which","getNextFocusedChild","displayName","setFocusToLimit","stopPropagation","preventDefault","selectContext","parentKeyDown","_proto","componentDidMount","menuItems","componentDidUpdate","prevProps","prevState","focusFirst","_this$state3","activeNode","overlayItems","current","offset","_this$state4","possibleIndex","getIndex","_this$state5","render","_this2","_this$props2","ariaLabel","className","_this$state6","otherProps","createElement","Provider","ref","_ref","role","tabIndex","Component","propTypes","string","bool","func","defaultProps","context"],"mappings":"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","sourcesContent":["function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport omit from 'lodash/omit';\nimport mapContextToProps from '@restart/context/mapContextToProps';\nimport qsa from 'dom-helpers/query/querySelectorAll';\nimport { UIDReset } from 'react-uid';\nimport SelectableContext from \"../SelectableContext\";\nimport ListContext from \"../ListContext\";\nimport MenuContext from \"../MenuContext\";\n\nvar Menu = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Menu, _React$Component);\n\n  function Menu(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n\n    _this.getFocusableItems = function (node, selector) {\n      var defaultSelector = '.md-list-item:not(.disabled):not(:disabled)' + ':not(.md-list-item--read-only)';\n      return qsa(node, selector || defaultSelector);\n    };\n\n    _this.getIncludesFirstCharacter = function (str, char) {\n      return str.charAt(0).toLowerCase().includes(char);\n    };\n\n    _this.handleSelect = function (e, opts) {\n      var _this$props = _this.props,\n          onSelect = _this$props.onSelect,\n          parentOnSelect = _this$props.parentOnSelect;\n      var eventKey = opts.eventKey,\n          element = opts.element;\n      var children = element.props.children;\n      _this._selectRefocus = true;\n\n      _this.setState(function (state) {\n        return {\n          activeElement: children ? element : null,\n          currentElements: children ? [eventKey] : [state.currentElements[0]],\n          listContext: _extends({}, state.listContext, {\n            focus: children ? eventKey : state.currentElements[0],\n            active: [eventKey]\n          })\n        };\n      }, function () {\n        onSelect && onSelect(e, {\n          eventKey: eventKey,\n          element: element\n        });\n        parentOnSelect && parentOnSelect(e, {\n          eventKey: eventKey,\n          element: element\n        });\n      });\n    };\n\n    _this.setFocus = function (child, isParent, isChild) {\n      var currentElements = _this.state.currentElements;\n\n      var getCurrentElements = function getCurrentElements() {\n        if (isParent) {\n          return [child.attributes['data-md-event-key'].value];\n        } else if (isChild) {\n          return currentElements.concat(child.attributes['data-md-event-key'].value);\n        } else null;\n      };\n\n      _this.setState(function (state) {\n        return {\n          currentElements: getCurrentElements(),\n          listContext: _extends({}, state.listContext, {\n            focus: child.attributes['data-md-event-key'].value\n          })\n        };\n      });\n    };\n\n    _this.setFocusByFirstCharacter = function (element, char) {\n      var _this$state = _this.state,\n          currentElements = _this$state.currentElements,\n          listContext = _this$state.listContext;\n\n      var items = _this.getFocusableItems(element);\n\n      var focusIdx = listContext.focus && items.indexOf(element.querySelector(\"[data-md-event-key=\\\"\" + listContext.focus + \"\\\"]\")) || 0;\n      var length = items.length && items.length - 1 || 0;\n      var newFocusKey = items.reduce(function (agg, item, idx, arr) {\n        var index = focusIdx + idx + 1 > length ? Math.abs(focusIdx + idx - length) : focusIdx + idx + 1;\n        return !agg && arr[index].attributes['data-md-keyboard-key'] && arr[index].attributes['data-md-keyboard-key'].value && _this.getIncludesFirstCharacter(arr[index].attributes['data-md-keyboard-key'].value, char) ? arr[index].attributes['data-md-event-key'].value : agg;\n      }, null);\n      typeof newFocusKey === 'string' && newFocusKey !== focus && _this.setState(function (state) {\n        return {\n          currentElements: !currentElements.length ? [].concat(newFocusKey) : [].concat(currentElements.slice(0, currentElements.length - 1), [newFocusKey]),\n          listContext: _extends({}, state.listContext, {\n            focus: newFocusKey\n          })\n        };\n      });\n    };\n\n    _this.handleKeyDown = function (e, opts) {\n      var element = opts.element;\n      var _this$state2 = _this.state,\n          activeElement = _this$state2.activeElement,\n          currentElements = _this$state2.currentElements;\n      var char = e.key;\n      var target = e.currentTarget;\n      var activeParent = activeElement ? qsa(ReactDOM.findDOMNode(activeElement), '.md-menu-item-container')[0] : _this.menuNode;\n\n      var isPrintableCharacter = function isPrintableCharacter(char) {\n        return char.length === 1 && char.match(/\\S/);\n      };\n\n      var flag = false;\n\n      switch (e.which) {\n        case 38:\n          //up\n          _this.getNextFocusedChild(activeParent, target, -1);\n\n          flag = true;\n          break;\n\n        case 40:\n          //down\n          _this.getNextFocusedChild(activeParent, target, 1);\n\n          flag = true;\n          break;\n\n        case 39:\n          //right\n          element.constructor && element.constructor.displayName && element.constructor.displayName === 'SubMenu' && _this.handleSelect(e, opts);\n          flag = true;\n          break;\n\n        case 37:\n          //left\n          currentElements.length - 1 && _this.setState(function (state) {\n            return {\n              currentElements: state.currentElements.slice(0, currentElements.length - 1),\n              activeElement: null,\n              listContext: {\n                focus: state.currentElements.length ? state.currentElements[0] : state.listContext.focus,\n                active: []\n              }\n            };\n          });\n          flag = true;\n          break;\n\n        case 33:\n        case 36:\n          //home or page up\n          _this.setFocusToLimit(activeParent, 'start');\n\n          flag = true;\n          break;\n\n        case 34:\n        case 35:\n          //end or page down\n          _this.setFocusToLimit(activeParent, 'end');\n\n          flag = true;\n          break;\n\n        default:\n          if (isPrintableCharacter(char)) {\n            _this.setFocusByFirstCharacter(activeParent, char);\n\n            flag = true;\n          }\n\n          break;\n      }\n\n      if (flag) {\n        e.stopPropagation();\n        e.preventDefault();\n      }\n    };\n\n    _this.state = {\n      currentElements: null,\n      activeElement: null,\n      listContext: {\n        active: [],\n        focus: null\n      },\n      selectContext: {\n        parentKeyDown: _this.handleKeyDown,\n        parentOnSelect: _this.handleSelect\n      }\n    };\n    return _this;\n  }\n\n  var _proto = Menu.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var menuItems = this.getFocusableItems(this.menuNode);\n    menuItems.length && this.setFocus(menuItems[0], true);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    if (!this.menuNode) return;\n    var focusFirst = this.props.focusFirst;\n    var _this$state3 = this.state,\n        activeElement = _this$state3.activeElement,\n        listContext = _this$state3.listContext;\n\n    if (prevState.listContext !== listContext) {\n      if (activeElement && this._selectRefocus) {\n        var activeNode = ReactDOM.findDOMNode(activeElement);\n        var overlayItems = this.getFocusableItems(activeNode, '.md-menu-item-container');\n        var items = overlayItems.length && this.getFocusableItems(overlayItems[0]);\n        this._selectRefocus = false;\n        items.length && this.setFocus(items[0], false, true);\n      } else if (listContext.focus !== prevState.listContext.focus) {\n        if (!prevState.listContext.focus && !focusFirst) {\n          return;\n        }\n\n        this.menuNode.querySelector(\"[data-md-event-key=\\\"\" + listContext.focus + \"\\\"]\").focus();\n      }\n    }\n  };\n\n  _proto.getNextFocusedChild = function getNextFocusedChild(element, current, offset) {\n    if (!element) return null;\n    var _this$state4 = this.state,\n        currentElements = _this$state4.currentElements,\n        listContext = _this$state4.listContext;\n    var items = this.getFocusableItems(element);\n    var possibleIndex = items.indexOf(current) + offset;\n\n    var getIndex = function getIndex() {\n      if (possibleIndex < 0) {\n        return items.length - 1;\n      } else if (possibleIndex > items.length - 1) {\n        return 0;\n      } else return possibleIndex;\n    };\n\n    var newFocusKey = items[getIndex()].attributes['data-md-event-key'].value;\n    newFocusKey !== listContext.focus && this.setState({\n      currentElements: !currentElements.length ? [].concat(newFocusKey) : [].concat(currentElements.slice(0, currentElements.length - 1), [newFocusKey]),\n      listContext: _extends({}, listContext, {\n        focus: newFocusKey\n      })\n    });\n  };\n\n  _proto.setFocusToLimit = function setFocusToLimit(element, target) {\n    if (!element) return null;\n    var _this$state5 = this.state,\n        currentElements = _this$state5.currentElements,\n        listContext = _this$state5.listContext;\n    var items = this.getFocusableItems(element);\n    var newFocusKey = items[target === 'start' ? 0 : items.length - 1].attributes['data-md-event-key'].value;\n    newFocusKey !== listContext.focus && this.setState({\n      currentElements: !currentElements.length ? [].concat(newFocusKey) : [].concat(currentElements.slice(0, currentElements.length - 1), [newFocusKey]),\n      listContext: _extends({}, listContext, {\n        focus: newFocusKey\n      })\n    });\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var _this$props2 = this.props,\n        ariaLabel = _this$props2.ariaLabel,\n        children = _this$props2.children,\n        className = _this$props2.className,\n        props = _objectWithoutPropertiesLoose(_this$props2, [\"ariaLabel\", \"children\", \"className\"]);\n\n    var _this$state6 = this.state,\n        listContext = _this$state6.listContext,\n        selectContext = _this$state6.selectContext;\n    var otherProps = omit(_extends({}, props), ['focusFirst', 'parentOnSelect']);\n    return React.createElement(SelectableContext.Provider, {\n      value: selectContext\n    }, React.createElement(ListContext.Provider, {\n      value: listContext\n    }, React.createElement(\"div\", _extends({\n      className: 'md-menu' + ' md-menu-item-container' + (\"\" + (className && \" \" + className || '')),\n      \"aria-label\": ariaLabel,\n      ref: function ref(_ref) {\n        return _this2.menuNode = _ref;\n      },\n      role: \"menubar\",\n      tabIndex: -1\n    }, otherProps), React.createElement(UIDReset, null, children))));\n  };\n\n  return Menu;\n}(React.Component);\n\nMenu.propTypes = {\n  /** @prop Text to display for accessibility features | ''  */\n  ariaLabel: PropTypes.string,\n\n  /** @prop Children nodes to render inside Menu | null */\n  children: PropTypes.node,\n\n  /** @prop Optional css class name | '' */\n  className: PropTypes.string,\n\n  /** @prop Sets first Menu item to have focus | true */\n  focusFirst: PropTypes.bool,\n\n  /** @prop Callback function invoked when user selects | null */\n  onSelect: PropTypes.func,\n  // Internal Context Use Only\n  parentOnSelect: PropTypes.func\n};\nMenu.defaultProps = {\n  ariaLabel: '',\n  children: null,\n  className: '',\n  focusFirst: true,\n  onSelect: null,\n  parentOnSelect: null\n};\nMenu.displayName = 'Menu';\nexport default mapContextToProps(MenuContext, function (context) {\n  return context;\n}, Menu);"]},"metadata":{},"sourceType":"module"}