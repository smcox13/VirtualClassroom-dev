{"ast":null,"code":"import _defineProperty from\"/Users/pratison/Work/Cisco/Education/React/education-webex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/pratison/Work/Cisco/Education/React/education-webex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/pratison/Work/Cisco/Education/React/education-webex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/pratison/Work/Cisco/Education/React/education-webex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/pratison/Work/Cisco/Education/React/education-webex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/pratison/Work/Cisco/Education/React/education-webex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{Input,Button,EditableTextfield}from'@momentum-ui/react';import{Redirect}from'react-router-dom';import{findIndex,without}from'lodash';import Header from'./Header.js';var ManualEntry=/*#__PURE__*/function(_React$Component){_inherits(ManualEntry,_React$Component);var _super=_createSuper(ManualEntry);function ManualEntry(props){var _this;_classCallCheck(this,ManualEntry);_this=_super.call(this,props);_this.state={studentList:[],firstName:null,lastName:null,email:null,lastIndex:1,firstNameError:{},lastNameError:{},emailError:{}};_this.addInfo=_this.addInfo.bind(_assertThisInitialized(_this));_this.updateInfo=_this.updateInfo.bind(_assertThisInitialized(_this));_this.deleteInfo=_this.deleteInfo.bind(_assertThisInitialized(_this));_this.onTextChange=_this.onTextChange.bind(_assertThisInitialized(_this));_this.saveClick=_this.saveClick.bind(_assertThisInitialized(_this));_this.cancelClick=_this.cancelClick.bind(_assertThisInitialized(_this));return _this;}_createClass(ManualEntry,[{key:\"componentDidMount\",value:function componentDidMount(props){var studentObj=JSON.parse(sessionStorage.getItem('studentList'));if(studentObj!==null){this.setState({lastIndex:studentObj.length+1,studentList:studentObj});}}},{key:\"validateEmail\",value:function validateEmail(){this.setState({error:false});var email=this.state.mail;if(email===null){this.setState({error:true});return;}var lastAtPos=email.lastIndexOf('@');var lastDotPos=email.lastIndexOf('.');if(!(lastAtPos<lastDotPos&&lastAtPos>0&&email.indexOf('@@')===-1&&lastDotPos>2&&email.length-lastDotPos>2)){this.setState({error:true});}}},{key:\"addInfo\",value:function addInfo(e){e.preventDefault();if(this.state.firstName===null){this.setState({firstNameError:{message:'Please enter student first name.',type:'error'}});}else if(this.state.lastName===null){this.setState({lastNameError:{message:'Please enter student last name.',type:'error'}});}else if(this.state.email===null){this.setState({emailError:{message:'Please enter student email.',type:'error'}});}else{var newStudent={firstName:this.state.firstName,lastName:this.state.lastName,email:this.state.email,studentId:this.state.lastIndex};var temp=this.state.studentList;temp.push(newStudent);this.setState({studentList:temp,lastIndex:this.state.lastIndex+1});this.setState({firstName:null,lastName:null,email:null});}}},{key:\"cancelClick\",value:function cancelClick(e){this.props.history.push('/fileUpload');}},{key:\"saveClick\",value:function saveClick(e){sessionStorage.setItem('studentList',JSON.stringify(this.state.studentList));this.props.history.push('/review');}},{key:\"onTextChange\",value:function onTextChange(e){var _this$setState;var target=e.target;var value=target.value;var name=target.name;var errorMsg={};if(value===''){errorMsg={message:'Please enter student information',type:'error'};}this.setState((_this$setState={},_defineProperty(_this$setState,name,value),_defineProperty(_this$setState,\"\".concat(name,\"Error\"),errorMsg),_this$setState));}},{key:\"updateInfo\",value:function updateInfo(name,value,id){var temp=this.state.studentList;var stdIndex=findIndex(this.state.studentList,{studentId:id});temp[stdIndex][name]=value;this.setState({studentList:temp});}},{key:\"deleteInfo\",value:function deleteInfo(item){var temp=this.state.studentList;temp=without(temp,item);this.setState({studentList:temp});}},{key:\"render\",value:function render(){var _this2=this;var token=sessionStorage.getItem('access_token');if(token===null){return/*#__PURE__*/React.createElement(Redirect,{to:\"/\"});}var hideGrid={marginTop:20};var students=this.state.studentList;return/*#__PURE__*/React.createElement(\"div\",{className:\"grid\",style:{paddingTop:20}},/*#__PURE__*/React.createElement(Header,{tab:\"manual\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"row large-offset-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"columns large-10\",style:hideGrid},/*#__PURE__*/React.createElement(\"p\",{style:{fontSize:16}},\"Enter Students\\u2019 information manually.\"))),students.map(function(item){return/*#__PURE__*/React.createElement(\"div\",{className:\"row large-offset-1\",key:item.studentId},/*#__PURE__*/React.createElement(\"div\",{className:\"row\",key:item.studentId},/*#__PURE__*/React.createElement(\"div\",{className:\"columns large-2\",style:hideGrid},/*#__PURE__*/React.createElement(EditableTextfield,{handleDoneEditing:function handleDoneEditing(e,data){return _this2.updateInfo('firstName',data.value,item.studentId);},inputText:item.firstName})),/*#__PURE__*/React.createElement(\"div\",{className:\"columns large-2\",style:hideGrid},/*#__PURE__*/React.createElement(EditableTextfield,{handleDoneEditing:function handleDoneEditing(e,data){return _this2.updateInfo('lastName',data.value,item.studentId);},inputText:item.lastName})),/*#__PURE__*/React.createElement(\"div\",{className:\"columns large-2\",style:hideGrid},/*#__PURE__*/React.createElement(EditableTextfield,{handleDoneEditing:function handleDoneEditing(e,data){return _this2.updateInfo('email',data.value,item.studentId);},inputText:item.email})),/*#__PURE__*/React.createElement(\"div\",{className:\"columns large-5\",style:hideGrid},/*#__PURE__*/React.createElement(Button,{children:\"Delete\",color:\"blue-outline\",onClick:function onClick(e){return _this2.deleteInfo(item);},style:{color:'blue',borderRadius:5}}))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"hr\",{style:{marginLeft:20,height:1,width:'95%',border:'none',color:'grey',backgroundColor:'grey'}})));}),/*#__PURE__*/React.createElement(\"div\",{className:\"row large-offset-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"columns large-4\",style:hideGrid},/*#__PURE__*/React.createElement(Input,{name:\"firstName\",label:\"First Name\",type:\"text\",inputSize:\"large-15\",placeholder:\"Emily\",onChange:this.onTextChange,messageArr:[this.state.firstNameError],htmlId:\"firstName\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"columns large-4\",style:hideGrid},/*#__PURE__*/React.createElement(Input,{name:\"lastName\",label:\"Last Name\",type:\"text\",inputSize:\"large-15\",placeholder:\"Henning\",onChange:this.onTextChange,messageArr:[this.state.lastNameError],htmlId:\"lastName\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"columns large-4\",style:hideGrid},/*#__PURE__*/React.createElement(Input,{name:\"email\",label:\"Email\",type:\"email\",inputSize:\"large-15\",placeholder:\"emilyhenning@gmail.com\",onChange:this.onTextChange,messageArr:[this.state.emailError],htmlId:\"email\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"columns large-offset-11 large-1\",style:hideGrid},/*#__PURE__*/React.createElement(Button,{children:\"Add\",color:\"blue\",onClick:this.addInfo,style:{color:'blue',borderRadius:5},ariaPressed:false}))),/*#__PURE__*/React.createElement(\"div\",{className:\"row large-offset-1\",style:{marginTop:40,marginLeft:10}},/*#__PURE__*/React.createElement(\"div\",{className:\"large-10 columns\"},/*#__PURE__*/React.createElement(Button,{children:\"Back\",color:\"blue-outline\",onClick:this.cancelClick,style:{color:'blue',borderRadius:5},ariaPressed:false})),/*#__PURE__*/React.createElement(\"div\",{className:\"large-1 columns\"},/*#__PURE__*/React.createElement(Button,{children:\"Continue\",color:\"blue\",onClick:this.saveClick,ariaPressed:false}))));}}]);return ManualEntry;}(React.Component);export default ManualEntry;","map":{"version":3,"sources":["/Users/pratison/Work/Cisco/Education/React/education-webex/src/pages/ManualEntry.js"],"names":["React","Input","Button","EditableTextfield","Redirect","findIndex","without","Header","ManualEntry","props","state","studentList","firstName","lastName","email","lastIndex","firstNameError","lastNameError","emailError","addInfo","bind","updateInfo","deleteInfo","onTextChange","saveClick","cancelClick","studentObj","JSON","parse","sessionStorage","getItem","setState","length","error","mail","lastAtPos","lastIndexOf","lastDotPos","indexOf","e","preventDefault","message","type","newStudent","studentId","temp","push","history","setItem","stringify","target","value","name","errorMsg","id","stdIndex","item","token","hideGrid","marginTop","students","paddingTop","fontSize","map","data","color","borderRadius","marginLeft","height","width","border","backgroundColor","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {\n    Input,\n    Button,\n    EditableTextfield,\n} from '@momentum-ui/react';\nimport {\n    Redirect,\n} from 'react-router-dom';\nimport {\n    findIndex,\n    without\n} from 'lodash';\nimport Header from './Header.js';\n\nclass ManualEntry extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            studentList: [],\n            firstName: null,\n            lastName: null,\n            email: null,\n            lastIndex: 1,\n            firstNameError: {},\n            lastNameError: {},\n            emailError: {},\n        };\n        this.addInfo = this.addInfo.bind(this);\n        this.updateInfo = this.updateInfo.bind(this);\n        this.deleteInfo = this.deleteInfo.bind(this);\n        this.onTextChange = this.onTextChange.bind(this);\n        this.saveClick = this.saveClick.bind(this);\n        this.cancelClick = this.cancelClick.bind(this);\n    }\n\n    componentDidMount(props) {\n        const studentObj = JSON.parse(sessionStorage.getItem('studentList'));\n        if (studentObj !== null) {\n            this.setState({\n              lastIndex: studentObj.length + 1,\n              studentList: studentObj\n            });\n        }\n    }\n\n    validateEmail() {\n        this.setState({error: false});\n        let email = this.state.mail;\n        if (email === null) {\n            this.setState({error: true});\n            return;\n        }\n        let lastAtPos = email.lastIndexOf('@');\n        let lastDotPos = email.lastIndexOf('.');\n        if (!(lastAtPos < lastDotPos &&\n              lastAtPos > 0 &&\n              email.indexOf('@@') === -1 &&\n              lastDotPos > 2 &&\n             (email.length - lastDotPos) > 2)) {\n                 this.setState({error: true});\n        }\n    }\n\n    addInfo(e) {\n        e.preventDefault();\n        if (this.state.firstName === null) {\n            this.setState({\n                firstNameError: { message: 'Please enter student first name.', type: 'error' },\n            });\n        } else if (this.state.lastName === null) {\n            this.setState({\n                lastNameError: { message: 'Please enter student last name.', type: 'error' },\n            });\n        } else if (this.state.email === null) {\n            this.setState({\n                emailError: { message: 'Please enter student email.', type: 'error' },\n            });\n        } else {\n            let newStudent = {\n                firstName: this.state.firstName,\n                lastName: this.state.lastName,\n                email: this.state.email,\n                studentId: this.state.lastIndex,\n            };\n            let temp = this.state.studentList;\n            temp.push(newStudent);\n            this.setState({\n                studentList: temp,\n                lastIndex: this.state.lastIndex + 1,\n            });\n            this.setState({\n              firstName: null,\n              lastName: null,\n              email: null,\n            });\n\n        }\n    }\n\n    cancelClick(e) {\n        this.props.history.push('/fileUpload');\n    }\n\n    saveClick(e) {\n        sessionStorage.setItem('studentList',JSON.stringify(this.state.studentList));\n\n        this.props.history.push('/review');\n    }\n\n    onTextChange(e) {\n        const target = e.target;\n        const value = target.value;\n        const name = target.name;\n\n        let errorMsg = {};\n        if (value === '') {\n            errorMsg = { message: 'Please enter student information', type: 'error' };\n        }\n        this.setState({\n          [name]: value,\n          [`${name}Error`]: errorMsg,\n        });\n    }\n\n    updateInfo(name, value, id) {\n        let temp = this.state.studentList;\n        let stdIndex = findIndex(this.state.studentList, {\n          studentId: id\n        });\n        temp[stdIndex][name] = value;\n        this.setState({\n          studentList: temp\n        });\n    }\n\n    deleteInfo(item) {\n        let temp = this.state.studentList;\n        temp = without(temp, item);\n        this.setState({\n          studentList: temp\n        });\n    }\n\n    render() {\n        const token = sessionStorage.getItem('access_token');\n        if (token === null) {\n            return <Redirect to='/'/>;\n        }\n\n        const hideGrid = {\n            marginTop: 20\n        };\n\n        let students = this.state.studentList;\n\n        return (\n            <div className=\"grid\" style={{paddingTop:20}}>\n                <Header tab='manual'/>\n                <div className=\"row large-offset-1\">\n                    <div className=\"columns large-10\" style={hideGrid}>\n                        <p style={{fontSize:16}}>Enter Students’ information manually.</p>\n                    </div>\n                </div>\n                {students.map(item => (\n                    <div className=\"row large-offset-1\" key={item.studentId}>\n                        <div className=\"row\"  key={item.studentId}>\n                            <div className=\"columns large-2\" style={hideGrid}>\n                                <EditableTextfield\n                                        handleDoneEditing={(e, data) => this.updateInfo('firstName',data.value,item.studentId)}\n                                        inputText={item.firstName}\n                                      />\n                            </div>\n                            <div className=\"columns large-2\" style={hideGrid}>\n                                <EditableTextfield\n                                        handleDoneEditing={(e, data) => this.updateInfo('lastName',data.value,item.studentId)}\n                                        inputText={item.lastName}\n                                      />\n                            </div>\n                            <div className=\"columns large-2\" style={hideGrid}>\n                                <EditableTextfield\n                                        handleDoneEditing={(e, data) => this.updateInfo('email',data.value,item.studentId)}\n                                        inputText={item.email}\n                                      />\n                            </div>\n                            <div className=\"columns large-5\" style={hideGrid}>\n                                <Button\n                                    children='Delete'\n                                    color='blue-outline'\n                                    onClick={(e) => this.deleteInfo(item)}\n                                    style={{color:'blue',borderRadius:5}}\n                                  />\n                            </div>\n                        </div>\n                        <div className=\"row\">\n                            <hr style={{marginLeft: 20, height: 1, width: '95%', border: 'none', color: 'grey', backgroundColor: 'grey'}}></hr>\n                        </div>\n                    </div>\n                ))}\n                <div className=\"row large-offset-1\">\n                    <div className=\"columns large-4\" style={hideGrid}>\n                        <Input\n                            name='firstName'\n                            label='First Name'\n                            type='text'\n                            inputSize='large-15'\n                            placeholder='Emily'\n                            onChange={this.onTextChange}\n                            messageArr={[ this.state.firstNameError ]}\n                            htmlId='firstName'\n                          />\n                    </div>\n                    <div className=\"columns large-4\" style={hideGrid}>\n                        <Input\n                            name='lastName'\n                            label='Last Name'\n                            type='text'\n                            inputSize='large-15'\n                            placeholder='Henning'\n                            onChange={this.onTextChange}\n                            messageArr={[ this.state.lastNameError ]}\n                            htmlId='lastName'\n                          />\n                    </div>\n                    <div className=\"columns large-4\" style={hideGrid}>\n                        <Input\n                            name='email'\n                            label='Email'\n                            type='email'\n                            inputSize='large-15'\n                            placeholder='emilyhenning@gmail.com'\n                            onChange={this.onTextChange}\n                            messageArr={[ this.state.emailError ]}\n                            htmlId='email'\n                          />\n                    </div>\n                </div>\n                <div className=\"row\">\n                    <div className=\"columns large-offset-11 large-1\" style={hideGrid}>\n                        <Button\n                            children='Add'\n                            color='blue'\n                            onClick={this.addInfo}\n                            style={{color:'blue',borderRadius:5}}\n                            ariaPressed={false}\n                          />\n                    </div>\n                </div>\n                <div className=\"row large-offset-1\" style={{marginTop:40, marginLeft:10}}>\n                    <div className=\"large-10 columns\">\n                        <Button\n                            children='Back'\n                            color='blue-outline'\n                            onClick={this.cancelClick}\n                            style={{color:'blue',borderRadius:5}}\n                            ariaPressed={false}\n                          />\n                    </div>\n                    <div className=\"large-1 columns\">\n                        <Button\n                            children='Continue'\n                            color='blue'\n                            onClick={this.saveClick}\n                            ariaPressed={false}\n                          />\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default ManualEntry;\n"]},"metadata":{},"sourceType":"module"}