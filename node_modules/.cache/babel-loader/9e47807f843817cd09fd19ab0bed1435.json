{"ast":null,"code":"function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n/** @component lightbox */\n\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Modal from 'react-aria-modal';\nimport { Spinner, Tooltip, Icon } from \"./..\";\n\nvar Lightbox = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Lightbox, _React$Component);\n\n  function Lightbox() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.state = {\n      viewportDimensions: {\n        width: 600,\n        height: 600\n      },\n      zoom: 1\n    };\n\n    _this.handleResize = function () {\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          viewport = _assertThisInitialize.viewport;\n\n      _this.setState({\n        viewportDimensions: {\n          width: viewport.offsetWidth,\n          height: viewport.offsetHeight\n        }\n      });\n    };\n\n    _this.handleKeyDown = function (e) {\n      var _this$props = _this.props,\n          index = _this$props.index,\n          pages = _this$props.pages;\n      var newIndex;\n\n      switch (e.keyCode) {\n        // Escape\n        case 27:\n          _this.handleClose();\n\n          return;\n        // left arrow & up arrow\n\n        case 37:\n        case 38:\n          newIndex = Math.max(index - 1, 0);\n          break;\n        // right arrow & down arrow\n\n        case 39:\n        case 40:\n          newIndex = Math.min(index + 1, pages.length - 1);\n          break;\n        // page up & home\n\n        case 33:\n        case 36:\n          newIndex = 0;\n          break;\n        // page down & end\n\n        case 34:\n        case 35:\n          newIndex = pages.length - 1;\n          break;\n        // 1 - 9\n\n        case 49:\n        case 50:\n        case 51:\n        case 52:\n        case 53:\n        case 54:\n        case 55:\n        case 56:\n        case 57:\n          newIndex = Math.min(e.keyCode - 49, pages.length - 1);\n          break;\n\n        default:\n          return;\n      }\n\n      _this.triggerPageChange(newIndex, e);\n    };\n\n    _this.handleThumbnailClick = function (index) {\n      var onChange = _this.props.onChange;\n      onChange && onChange(index);\n    };\n\n    _this.triggerPageChange = function (index, e) {\n      var _this$props2 = _this.props,\n          onChange = _this$props2.onChange,\n          pages = _this$props2.pages;\n\n      var target = _this.lightBox && _this.lightBox.querySelector(\"[data-index=\\\"\" + index + \"\\\"]\");\n\n      if (index >= 0 && index <= pages.length - 1) {\n        onChange && onChange(index);\n      }\n\n      e.stopPropagation();\n      target && target.scrollIntoViewIfNeeded();\n    };\n\n    _this.stopPropagation = function (e) {\n      e.stopPropagation();\n    };\n\n    _this.setZoom = function (increment) {\n      var newZoom = _this.state.zoom + increment;\n\n      _this.setState({\n        zoom: newZoom < 0.25 ? 0.25 : newZoom\n      });\n    };\n\n    _this.handleDownload = function () {\n      var onDownload = _this.props.onDownload;\n      onDownload && onDownload();\n    };\n\n    _this.handleClose = function () {\n      var onClose = _this.props.onClose;\n      onClose && onClose();\n    };\n\n    return _this;\n  }\n\n  var _proto = Lightbox.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown, true);\n    window.addEventListener('resize', this.handleResize, true);\n    var viewport = this.viewport;\n\n    if (viewport) {\n      // eslint-disable-next-line react/no-did-mount-set-state\n      this.setState({\n        viewportDimensions: {\n          width: viewport.clientWidth,\n          height: viewport.clientHeight\n        }\n      });\n    }\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    if (prevProps.index !== this.props.index && this.state.zoom > 1 && this.imgWrapper) {\n      var viewportNode = this.viewport;\n      viewportNode.scrollTop = 0;\n      viewportNode.scrollLeft = (this.imgWrapper.offsetWidth - viewportNode.offsetWidth) / 2;\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown, true);\n    window.removeEventListener('resize', this.handleResize, true);\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var _this$props3 = this.props,\n        pages = _this$props3.pages,\n        index = _this$props3.index,\n        width = _this$props3.width,\n        height = _this$props3.height,\n        tooltips = _this$props3.tooltips,\n        downloading = _this$props3.downloading,\n        info = _this$props3.info,\n        name = _this$props3.name,\n        applicationId = _this$props3.applicationId,\n        imgClassName = _this$props3.imgClassName,\n        isImageRotated = _this$props3.isImageRotated;\n    var _this$state = this.state,\n        zoom = _this$state.zoom,\n        viewportDimensions = _this$state.viewportDimensions;\n    var currentPage = pages[index];\n    var showColumn = pages.length > 1;\n\n    var calculateAspectRatioFit = function calculateAspectRatioFit(srcWidth, srcHeight, maxWidth, maxHeight) {\n      var maxW, maxH;\n\n      if (isImageRotated) {\n        maxW = maxHeight;\n        maxH = maxWidth;\n      } else {\n        maxW = maxWidth;\n        maxH = maxHeight;\n      }\n\n      var ratio = Math.min(maxW / srcWidth, maxH / srcHeight, 1);\n      return {\n        width: Math.round(srcWidth * ratio),\n        height: Math.round(srcHeight * ratio),\n        ratio: ratio\n      };\n    };\n\n    var getThumbnails = function getThumbnails() {\n      var thumbnails = pages.map(function (page, idx) {\n        var key = idx + \":\" + page.thumb;\n        var body;\n\n        if (page.decrypting) {\n          var scale = width / 150;\n          var scaleY = height / scale;\n          var style = {\n            height: Math.round(scaleY)\n          };\n          key += ':decrypting';\n          body = React.createElement(\"div\", {\n            className: \"md-lightbox__thumbnail\" + (\"\" + (!!page.decrypting && \" md-lightbox__thumbnail--decrypting\" || '')),\n            \"data-index\": idx,\n            style: style\n          }, React.createElement(Icon, {\n            className: \"md-lightbox__thumbnail--icon\",\n            name: \"secure_28\"\n          }));\n        } else {\n          body = React.createElement(\"img\", {\n            alt: \"\",\n            className: \"md-lightbox__thumbnail\" + (\"\" + (!!page.decrypting && \" md-lightbox__thumbnail--decrypting\" || '')),\n            \"data-index\": idx,\n            draggable: \"false\",\n            onDragStart: function onDragStart() {\n              return false;\n            },\n            src: page.thumb\n          });\n        }\n\n        return React.createElement(\"div\", {\n          className: 'md-lightbox__thumbnail-wrapper' + (\"\" + (idx === index && \" md-lightbox__thumbnail-wrapper--selected\" || '')),\n          key: key,\n          onClick: function onClick() {\n            return _this2.handleThumbnailClick(idx);\n          },\n          onKeyPress: function onKeyPress() {\n            return _this2.handleThumbnailClick(idx);\n          },\n          role: \"button\",\n          tabIndex: \"0\"\n        }, body, React.createElement(\"div\", null, idx + 1));\n      });\n      return React.createElement(\"div\", {\n        className: \"md-lightbox__list\"\n      }, thumbnails);\n    };\n\n    var newWidth = width;\n    var newHeight = height;\n\n    var getViewport = function getViewport() {\n      var viewport;\n      var imageContainerStyles;\n\n      if (currentPage.content) {\n        if (currentPage.fullView) {\n          imageContainerStyles = {\n            width: '100%',\n            height: '100%',\n            overflow: 'hidden'\n          };\n        }\n\n        viewport = React.createElement(\"div\", {\n          className: \"md-lightbox__viewport-content\",\n          draggable: \"false\",\n          onClick: _this2.stopPropagation,\n          onKeyPress: _this2.stopPropagation,\n          onDoubleClick: function onDoubleClick() {\n            return _this2.setZoom(0.25);\n          },\n          onDragStart: function onDragStart() {\n            return false;\n          },\n          role: \"button\",\n          tabIndex: \"0\"\n        }, currentPage.content);\n      } else if (currentPage.image) {\n        if (zoom <= 1) {\n          var dimensions = calculateAspectRatioFit(width * zoom, height * zoom, viewportDimensions.width, viewportDimensions.height);\n          newHeight = dimensions.height;\n          newWidth = dimensions.width;\n          imageContainerStyles = {\n            width: dimensions.width + \"px\",\n            height: dimensions.height + \"px\"\n          };\n          /* eslint-disable jsx-a11y/no-noninteractive-element-interactions */\n\n          viewport = React.createElement(\"img\", {\n            alt: \"\",\n            className: \"md-lightbox__viewport-image\" + (\"\" + (imgClassName && \" \" + imgClassName || '')),\n            draggable: \"false\",\n            onClick: _this2.stopPropagation,\n            onKeyPress: _this2.stopPropagation,\n            onDoubleClick: function onDoubleClick() {\n              return _this2.setZoom(0.25);\n            },\n            onDragStart: function onDragStart() {\n              return false;\n            },\n            src: currentPage.image\n          });\n        } else {\n          var _dimensions = calculateAspectRatioFit(width, height, viewportDimensions.width, viewportDimensions.height);\n\n          imageContainerStyles = {};\n          newHeight = _dimensions.height * zoom;\n          newWidth = _dimensions.width * zoom;\n          viewport = React.createElement(\"img\", {\n            alt: \"\",\n            className: \"md-lightbox__viewport-image\" + (\"\" + (imgClassName && \" \" + imgClassName || '')),\n            draggable: \"false\",\n            onClick: _this2.stopPropagation,\n            onKeyPress: _this2.stopPropagation,\n            onDoubleClick: function onDoubleClick() {\n              return _this2.setZoom(0.25);\n            },\n            onDragStart: function onDragStart() {\n              return false;\n            },\n            src: currentPage.image,\n            style: {\n              maxHeight: newHeight,\n              maxWidth: newWidth,\n              minHeight: newHeight,\n              minWidth: newWidth\n            }\n          });\n        }\n      }\n\n      return React.createElement(\"div\", {\n        className: \"md-lightbox__viewport-wrapper\",\n        ref: function ref(_ref) {\n          return _this2.imgWrapper = _ref;\n        },\n        style: imageContainerStyles\n      }, viewport);\n    };\n\n    var leftArrowControl = React.createElement(Tooltip, {\n      tooltip: tooltips.previous,\n      direction: \"right-center\"\n    }, React.createElement(\"div\", {\n      className: \"md-lightbox__page-control md-lightbox__page-control-icon md-lightbox__page-controls--left\",\n      role: \"button\",\n      tabIndex: \"0\",\n      onKeyPress: function onKeyPress(e) {\n        return _this2.triggerPageChange(index - 1, e);\n      },\n      onClick: function onClick(e) {\n        return _this2.triggerPageChange(index - 1, e);\n      },\n      style: {\n        transform: 'rotate(-180deg)'\n      }\n    }, React.createElement(Icon, {\n      name: \"arrow-right_16\"\n    })));\n    var rightArrowControl = React.createElement(Tooltip, {\n      tooltip: tooltips.next,\n      direction: \"left-center\"\n    }, React.createElement(\"div\", {\n      className: \"md-lightbox__page-control md-lightbox__page-control-icon md-lightbox__page-controls--right\",\n      role: \"button\",\n      tabIndex: \"0\",\n      onKeyPress: function onKeyPress(e) {\n        return _this2.triggerPageChange(index + 1, e);\n      },\n      onClick: function onClick(e) {\n        return _this2.triggerPageChange(index + 1, e);\n      }\n    }, React.createElement(Icon, {\n      name: \"arrow-right_16\"\n    })));\n\n    var viewportControls = function viewportControls() {\n      var downloadButton = React.createElement(\"div\", {\n        className: \"md-lightbox__control md-lightbox__control-download\",\n        tabIndex: \"0\",\n        role: \"button\",\n        onClick: _this2.handleDownload,\n        onKeyPress: _this2.handleDownload\n      }, React.createElement(Icon, {\n        name: \"download_16\"\n      }));\n      var controlStyle = currentPage.content ? {\n        visibility: 'hidden'\n      } : {};\n      var pageControl = pages.length > 1 ? React.createElement(\"div\", {\n        className: \"md-lightbox__controls md-lightbox__controls--center\"\n      }, React.createElement(Tooltip, {\n        tooltip: tooltips.previous\n      }, React.createElement(\"div\", {\n        className: \"md-lightbox__control\",\n        onClick: function onClick(e) {\n          return _this2.triggerPageChange(index - 1, e);\n        },\n        role: \"button\",\n        tabIndex: \"0\",\n        onKeyPress: function onKeyPress(e) {\n          return _this2.triggerPageChange(index - 1, e);\n        },\n        style: {\n          transform: 'rotate(-180deg)'\n        }\n      }, React.createElement(Icon, {\n        name: \"arrow-right_16\"\n      }))), React.createElement(\"span\", {\n        className: \"md-lightbox__control-value\"\n      }, index + 1 + \" / \" + pages.length), React.createElement(Tooltip, {\n        tooltip: tooltips.next\n      }, React.createElement(\"div\", {\n        className: \"md-lightbox__control\",\n        role: \"button\",\n        onClick: function onClick(e) {\n          return _this2.triggerPageChange(index + 1, e);\n        },\n        tabIndex: \"0\",\n        onKeyPress: function onKeyPress(e) {\n          return _this2.triggerPageChange(index + 1, e);\n        }\n      }, React.createElement(Icon, {\n        name: \"arrow-right_16\"\n      })))) : React.createElement(\"div\", {\n        className: \"md-lightbox__controls\"\n      }, React.createElement(\"span\", {\n        className: \"md-lightbox__control-value\"\n      }, index + 1));\n      return React.createElement(\"div\", {\n        className: \"md-lightbox__viewer-controls\",\n        onClick: _this2.stopPropagation,\n        onKeyPress: _this2.stopPropagation,\n        role: \"button\",\n        tabIndex: \"0\"\n      }, React.createElement(\"div\", {\n        className: \"md-lightbox__controls\",\n        style: controlStyle\n      }, React.createElement(Tooltip, {\n        tooltip: tooltips.zoomOut\n      }, React.createElement(\"div\", {\n        className: \"md-lightbox__control\",\n        onClick: function onClick() {\n          return _this2.setZoom(-0.25);\n        },\n        role: \"button\",\n        tabIndex: \"0\",\n        onKeyPress: function onKeyPress() {\n          return _this2.setZoom(-0.25);\n        }\n      }, React.createElement(Icon, {\n        name: \"zoom-out_16\"\n      }))), React.createElement(\"span\", {\n        className: \"md-lightbox__control-value\"\n      }, Math.round(newHeight * 1.0 / height * 100), \"%\"), React.createElement(Tooltip, {\n        tooltip: tooltips.zoomIn\n      }, React.createElement(\"div\", {\n        className: \"md-lightbox__control\",\n        role: \"button\",\n        onClick: function onClick() {\n          return _this2.setZoom(0.25);\n        },\n        tabIndex: \"0\",\n        onKeyPress: function onKeyPress() {\n          return _this2.setZoom(0.25);\n        }\n      }, React.createElement(Icon, {\n        name: \"zoom-in_16\"\n      })))), pageControl, React.createElement(\"div\", {\n        className: \"md-lightbox__controls\",\n        style: controlStyle\n      }, React.createElement(\"span\", {\n        className: \"md-lightbox__control-value\"\n      }, info.size), React.createElement(Tooltip, {\n        tooltip: downloading ? tooltips.downloading : tooltips.download\n      }, downloading ? React.createElement(\"div\", {\n        className: \"md-lightbox__control md-lightbox__control-spinner\"\n      }, React.createElement(Spinner, {\n        size: 28\n      })) : downloadButton)));\n    };\n\n    return React.createElement(Modal, {\n      includeDefaultStyles: false,\n      getApplicationNode: function getApplicationNode() {\n        return document.querySelector(\"#\" + applicationId);\n      },\n      onExit: this.handleClose,\n      focusDialog: true,\n      titleId: \"md-lightbox\",\n      dialogClass: \"md-lightbox\",\n      underlayClass: \"md-lightbox__container\"\n    }, React.createElement(\"div\", {\n      className: \"md-lightbox__header\",\n      ref: function ref(_ref2) {\n        return _this2.lightBox = _ref2;\n      }\n    }, React.createElement(\"div\", {\n      className: \"md-lightbox__header-item--left\"\n    }, React.createElement(\"div\", {\n      className: \"md-lightbox__header-meta\"\n    }, React.createElement(\"div\", {\n      className: \"md-lightbox__header-sharer\"\n    }, info.sharedBy), React.createElement(\"div\", {\n      className: \"md-lightbox__header-timestamp\"\n    }, info.sharedOn))), React.createElement(\"div\", {\n      className: \"md-lightbox__header-item--center\"\n    }, React.createElement(\"div\", {\n      className: \"md-lightbox__header-name\"\n    }, name)), React.createElement(\"div\", {\n      className: \"md-lightbox__header-item--right\"\n    }, React.createElement(Tooltip, {\n      popoverProps: {\n        isContained: true\n      },\n      tooltip: tooltips.exit,\n      direction: \"bottom-right\"\n    }, React.createElement(\"div\", {\n      className: \"md-lightbox__control\",\n      onClick: this.handleClose,\n      role: \"button\",\n      tabIndex: \"0\",\n      onKeyPress: this.handleClose\n    }, React.createElement(Icon, {\n      name: \"cancel_16\"\n    }))))), React.createElement(\"div\", {\n      className: \"md-lightbox__body\"\n    }, showColumn && getThumbnails(), React.createElement(\"div\", {\n      className: \"md-lightbox__content\",\n      onClick: this.handleClose,\n      onKeyPress: this.handleClose,\n      role: \"button\",\n      tabIndex: \"0\"\n    }, React.createElement(\"div\", {\n      className: \"md-lightbox__viewport\" + (\"\" + (!!currentPage.decrypting && \" md-lightbox__viewport--decrypting\" || '')),\n      ref: function ref(_ref3) {\n        return _this2.viewport = _ref3;\n      }\n    }, pages[index].decrypting && React.createElement(Spinner, {\n      className: \"md-lightbox__decrypting-spinner\"\n    }), getViewport()), showColumn && leftArrowControl, showColumn && rightArrowControl, viewportControls())));\n  };\n\n  return Lightbox;\n}(React.Component);\n\nLightbox.propTypes = {\n  /** @prop ID for Lightbox query lookup */\n  applicationId: PropTypes.string.isRequired,\n\n  /** Determines if info is decrypting | false */\n  decrypting: PropTypes.bool,\n\n  /** @prop Optional downloading css styling | false */\n  downloading: PropTypes.bool,\n\n  /** @prop Set Height value of Lightbox */\n  height: PropTypes.number.isRequired,\n\n  /** @prop Classname appended to img viewport | '' */\n  imgClassName: PropTypes.string,\n\n  /** @prop Initial index of start page | 0 */\n  index: PropTypes.number,\n\n  /** @prop Lightbox information Object | {} */\n  info: PropTypes.shape({\n    sharedBy: PropTypes.string,\n    sharedOn: PropTypes.string,\n    size: PropTypes.string\n  }),\n\n  /** @prop Optional indication if image is rotated | false */\n  isImageRotated: PropTypes.bool,\n\n  /** @prop Required name prop for Lightbox */\n  name: PropTypes.string.isRequired,\n\n  /** @prop Callback function invoked by user when interact with Lightbox | null */\n  onChange: PropTypes.func,\n\n  /** @prop Callback function invoked by user closing the Lightbox | null */\n  onClose: PropTypes.func,\n\n  /** @prop Callback function invoked by the download action of Lightbox | null */\n  onDownload: PropTypes.func,\n\n  /** @prop Array of Lightbox pages */\n  pages: PropTypes.array.isRequired,\n\n  /** @prop Collection of predefined tootips for various Lightbox actions | { download: 'Download', etc } */\n  tooltips: PropTypes.shape({\n    download: PropTypes.string,\n    downloading: PropTypes.string,\n    exit: PropTypes.string,\n    previous: PropTypes.string,\n    next: PropTypes.string,\n    zoomIn: PropTypes.string,\n    zoomOut: PropTypes.string\n  }),\n\n  /** @prop Set Width value for Lightbox */\n  width: PropTypes.number.isRequired\n};\nLightbox.defaultProps = {\n  decrypting: false,\n  downloading: false,\n  imgClassName: '',\n  index: 0,\n  info: {},\n  isImageRotated: false,\n  name: '',\n  onChange: null,\n  onClose: null,\n  onDownload: null,\n  tooltips: {\n    download: 'Download',\n    downloading: 'Downloading...',\n    exit: 'Exit',\n    previous: 'Previous',\n    next: 'Next',\n    zoomIn: 'Zoom in',\n    zoomOut: 'Zoom out'\n  }\n};\nLightbox.displayName = 'Lightbox';\nexport default Lightbox;","map":{"version":3,"sources":["/Users/pratison/Work/Cisco/Education/React/VirtualClassroom/node_modules/@momentum-ui/react/es/Lightbox/index.js"],"names":["_assertThisInitialized","self","ReferenceError","_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","__proto__","React","PropTypes","Modal","Spinner","Tooltip","Icon","Lightbox","_React$Component","_this","_len","arguments","length","args","Array","_key","call","apply","concat","state","viewportDimensions","width","height","zoom","handleResize","_assertThisInitialize","viewport","setState","offsetWidth","offsetHeight","handleKeyDown","e","_this$props","props","index","pages","newIndex","keyCode","handleClose","Math","max","min","triggerPageChange","handleThumbnailClick","onChange","_this$props2","target","lightBox","querySelector","stopPropagation","scrollIntoViewIfNeeded","setZoom","increment","newZoom","handleDownload","onDownload","onClose","_proto","componentDidMount","window","addEventListener","clientWidth","clientHeight","componentDidUpdate","prevProps","imgWrapper","viewportNode","scrollTop","scrollLeft","componentWillUnmount","removeEventListener","render","_this2","_this$props3","tooltips","downloading","info","name","applicationId","imgClassName","isImageRotated","_this$state","currentPage","showColumn","calculateAspectRatioFit","srcWidth","srcHeight","maxWidth","maxHeight","maxW","maxH","ratio","round","getThumbnails","thumbnails","map","page","idx","key","thumb","body","decrypting","scale","scaleY","style","createElement","className","alt","draggable","onDragStart","src","onClick","onKeyPress","role","tabIndex","newWidth","newHeight","getViewport","imageContainerStyles","content","fullView","overflow","onDoubleClick","image","dimensions","_dimensions","minHeight","minWidth","ref","_ref","leftArrowControl","tooltip","previous","direction","transform","rightArrowControl","next","viewportControls","downloadButton","controlStyle","visibility","pageControl","zoomOut","zoomIn","size","download","includeDefaultStyles","getApplicationNode","document","onExit","focusDialog","titleId","dialogClass","underlayClass","_ref2","sharedBy","sharedOn","popoverProps","isContained","exit","_ref3","Component","propTypes","string","isRequired","bool","number","shape","func","array","defaultProps","displayName"],"mappings":"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","sourcesContent":["function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\n/** @component lightbox */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Modal from 'react-aria-modal';\nimport { Spinner, Tooltip, Icon } from \"./..\";\n\nvar Lightbox = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Lightbox, _React$Component);\n\n  function Lightbox() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.state = {\n      viewportDimensions: {\n        width: 600,\n        height: 600\n      },\n      zoom: 1\n    };\n\n    _this.handleResize = function () {\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          viewport = _assertThisInitialize.viewport;\n\n      _this.setState({\n        viewportDimensions: {\n          width: viewport.offsetWidth,\n          height: viewport.offsetHeight\n        }\n      });\n    };\n\n    _this.handleKeyDown = function (e) {\n      var _this$props = _this.props,\n          index = _this$props.index,\n          pages = _this$props.pages;\n      var newIndex;\n\n      switch (e.keyCode) {\n        // Escape\n        case 27:\n          _this.handleClose();\n\n          return;\n        // left arrow & up arrow\n\n        case 37:\n        case 38:\n          newIndex = Math.max(index - 1, 0);\n          break;\n        // right arrow & down arrow\n\n        case 39:\n        case 40:\n          newIndex = Math.min(index + 1, pages.length - 1);\n          break;\n        // page up & home\n\n        case 33:\n        case 36:\n          newIndex = 0;\n          break;\n        // page down & end\n\n        case 34:\n        case 35:\n          newIndex = pages.length - 1;\n          break;\n        // 1 - 9\n\n        case 49:\n        case 50:\n        case 51:\n        case 52:\n        case 53:\n        case 54:\n        case 55:\n        case 56:\n        case 57:\n          newIndex = Math.min(e.keyCode - 49, pages.length - 1);\n          break;\n\n        default:\n          return;\n      }\n\n      _this.triggerPageChange(newIndex, e);\n    };\n\n    _this.handleThumbnailClick = function (index) {\n      var onChange = _this.props.onChange;\n      onChange && onChange(index);\n    };\n\n    _this.triggerPageChange = function (index, e) {\n      var _this$props2 = _this.props,\n          onChange = _this$props2.onChange,\n          pages = _this$props2.pages;\n\n      var target = _this.lightBox && _this.lightBox.querySelector(\"[data-index=\\\"\" + index + \"\\\"]\");\n\n      if (index >= 0 && index <= pages.length - 1) {\n        onChange && onChange(index);\n      }\n\n      e.stopPropagation();\n      target && target.scrollIntoViewIfNeeded();\n    };\n\n    _this.stopPropagation = function (e) {\n      e.stopPropagation();\n    };\n\n    _this.setZoom = function (increment) {\n      var newZoom = _this.state.zoom + increment;\n\n      _this.setState({\n        zoom: newZoom < 0.25 ? 0.25 : newZoom\n      });\n    };\n\n    _this.handleDownload = function () {\n      var onDownload = _this.props.onDownload;\n      onDownload && onDownload();\n    };\n\n    _this.handleClose = function () {\n      var onClose = _this.props.onClose;\n      onClose && onClose();\n    };\n\n    return _this;\n  }\n\n  var _proto = Lightbox.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown, true);\n    window.addEventListener('resize', this.handleResize, true);\n    var viewport = this.viewport;\n\n    if (viewport) {\n      // eslint-disable-next-line react/no-did-mount-set-state\n      this.setState({\n        viewportDimensions: {\n          width: viewport.clientWidth,\n          height: viewport.clientHeight\n        }\n      });\n    }\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    if (prevProps.index !== this.props.index && this.state.zoom > 1 && this.imgWrapper) {\n      var viewportNode = this.viewport;\n      viewportNode.scrollTop = 0;\n      viewportNode.scrollLeft = (this.imgWrapper.offsetWidth - viewportNode.offsetWidth) / 2;\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown, true);\n    window.removeEventListener('resize', this.handleResize, true);\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var _this$props3 = this.props,\n        pages = _this$props3.pages,\n        index = _this$props3.index,\n        width = _this$props3.width,\n        height = _this$props3.height,\n        tooltips = _this$props3.tooltips,\n        downloading = _this$props3.downloading,\n        info = _this$props3.info,\n        name = _this$props3.name,\n        applicationId = _this$props3.applicationId,\n        imgClassName = _this$props3.imgClassName,\n        isImageRotated = _this$props3.isImageRotated;\n    var _this$state = this.state,\n        zoom = _this$state.zoom,\n        viewportDimensions = _this$state.viewportDimensions;\n    var currentPage = pages[index];\n    var showColumn = pages.length > 1;\n\n    var calculateAspectRatioFit = function calculateAspectRatioFit(srcWidth, srcHeight, maxWidth, maxHeight) {\n      var maxW, maxH;\n\n      if (isImageRotated) {\n        maxW = maxHeight;\n        maxH = maxWidth;\n      } else {\n        maxW = maxWidth;\n        maxH = maxHeight;\n      }\n\n      var ratio = Math.min(maxW / srcWidth, maxH / srcHeight, 1);\n      return {\n        width: Math.round(srcWidth * ratio),\n        height: Math.round(srcHeight * ratio),\n        ratio: ratio\n      };\n    };\n\n    var getThumbnails = function getThumbnails() {\n      var thumbnails = pages.map(function (page, idx) {\n        var key = idx + \":\" + page.thumb;\n        var body;\n\n        if (page.decrypting) {\n          var scale = width / 150;\n          var scaleY = height / scale;\n          var style = {\n            height: Math.round(scaleY)\n          };\n          key += ':decrypting';\n          body = React.createElement(\"div\", {\n            className: \"md-lightbox__thumbnail\" + (\"\" + (!!page.decrypting && \" md-lightbox__thumbnail--decrypting\" || '')),\n            \"data-index\": idx,\n            style: style\n          }, React.createElement(Icon, {\n            className: \"md-lightbox__thumbnail--icon\",\n            name: \"secure_28\"\n          }));\n        } else {\n          body = React.createElement(\"img\", {\n            alt: \"\",\n            className: \"md-lightbox__thumbnail\" + (\"\" + (!!page.decrypting && \" md-lightbox__thumbnail--decrypting\" || '')),\n            \"data-index\": idx,\n            draggable: \"false\",\n            onDragStart: function onDragStart() {\n              return false;\n            },\n            src: page.thumb\n          });\n        }\n\n        return React.createElement(\"div\", {\n          className: 'md-lightbox__thumbnail-wrapper' + (\"\" + (idx === index && \" md-lightbox__thumbnail-wrapper--selected\" || '')),\n          key: key,\n          onClick: function onClick() {\n            return _this2.handleThumbnailClick(idx);\n          },\n          onKeyPress: function onKeyPress() {\n            return _this2.handleThumbnailClick(idx);\n          },\n          role: \"button\",\n          tabIndex: \"0\"\n        }, body, React.createElement(\"div\", null, idx + 1));\n      });\n      return React.createElement(\"div\", {\n        className: \"md-lightbox__list\"\n      }, thumbnails);\n    };\n\n    var newWidth = width;\n    var newHeight = height;\n\n    var getViewport = function getViewport() {\n      var viewport;\n      var imageContainerStyles;\n\n      if (currentPage.content) {\n        if (currentPage.fullView) {\n          imageContainerStyles = {\n            width: '100%',\n            height: '100%',\n            overflow: 'hidden'\n          };\n        }\n\n        viewport = React.createElement(\"div\", {\n          className: \"md-lightbox__viewport-content\",\n          draggable: \"false\",\n          onClick: _this2.stopPropagation,\n          onKeyPress: _this2.stopPropagation,\n          onDoubleClick: function onDoubleClick() {\n            return _this2.setZoom(0.25);\n          },\n          onDragStart: function onDragStart() {\n            return false;\n          },\n          role: \"button\",\n          tabIndex: \"0\"\n        }, currentPage.content);\n      } else if (currentPage.image) {\n        if (zoom <= 1) {\n          var dimensions = calculateAspectRatioFit(width * zoom, height * zoom, viewportDimensions.width, viewportDimensions.height);\n          newHeight = dimensions.height;\n          newWidth = dimensions.width;\n          imageContainerStyles = {\n            width: dimensions.width + \"px\",\n            height: dimensions.height + \"px\"\n          };\n          /* eslint-disable jsx-a11y/no-noninteractive-element-interactions */\n\n          viewport = React.createElement(\"img\", {\n            alt: \"\",\n            className: \"md-lightbox__viewport-image\" + (\"\" + (imgClassName && \" \" + imgClassName || '')),\n            draggable: \"false\",\n            onClick: _this2.stopPropagation,\n            onKeyPress: _this2.stopPropagation,\n            onDoubleClick: function onDoubleClick() {\n              return _this2.setZoom(0.25);\n            },\n            onDragStart: function onDragStart() {\n              return false;\n            },\n            src: currentPage.image\n          });\n        } else {\n          var _dimensions = calculateAspectRatioFit(width, height, viewportDimensions.width, viewportDimensions.height);\n\n          imageContainerStyles = {};\n          newHeight = _dimensions.height * zoom;\n          newWidth = _dimensions.width * zoom;\n          viewport = React.createElement(\"img\", {\n            alt: \"\",\n            className: \"md-lightbox__viewport-image\" + (\"\" + (imgClassName && \" \" + imgClassName || '')),\n            draggable: \"false\",\n            onClick: _this2.stopPropagation,\n            onKeyPress: _this2.stopPropagation,\n            onDoubleClick: function onDoubleClick() {\n              return _this2.setZoom(0.25);\n            },\n            onDragStart: function onDragStart() {\n              return false;\n            },\n            src: currentPage.image,\n            style: {\n              maxHeight: newHeight,\n              maxWidth: newWidth,\n              minHeight: newHeight,\n              minWidth: newWidth\n            }\n          });\n        }\n      }\n\n      return React.createElement(\"div\", {\n        className: \"md-lightbox__viewport-wrapper\",\n        ref: function ref(_ref) {\n          return _this2.imgWrapper = _ref;\n        },\n        style: imageContainerStyles\n      }, viewport);\n    };\n\n    var leftArrowControl = React.createElement(Tooltip, {\n      tooltip: tooltips.previous,\n      direction: \"right-center\"\n    }, React.createElement(\"div\", {\n      className: \"md-lightbox__page-control md-lightbox__page-control-icon md-lightbox__page-controls--left\",\n      role: \"button\",\n      tabIndex: \"0\",\n      onKeyPress: function onKeyPress(e) {\n        return _this2.triggerPageChange(index - 1, e);\n      },\n      onClick: function onClick(e) {\n        return _this2.triggerPageChange(index - 1, e);\n      },\n      style: {\n        transform: 'rotate(-180deg)'\n      }\n    }, React.createElement(Icon, {\n      name: \"arrow-right_16\"\n    })));\n    var rightArrowControl = React.createElement(Tooltip, {\n      tooltip: tooltips.next,\n      direction: \"left-center\"\n    }, React.createElement(\"div\", {\n      className: \"md-lightbox__page-control md-lightbox__page-control-icon md-lightbox__page-controls--right\",\n      role: \"button\",\n      tabIndex: \"0\",\n      onKeyPress: function onKeyPress(e) {\n        return _this2.triggerPageChange(index + 1, e);\n      },\n      onClick: function onClick(e) {\n        return _this2.triggerPageChange(index + 1, e);\n      }\n    }, React.createElement(Icon, {\n      name: \"arrow-right_16\"\n    })));\n\n    var viewportControls = function viewportControls() {\n      var downloadButton = React.createElement(\"div\", {\n        className: \"md-lightbox__control md-lightbox__control-download\",\n        tabIndex: \"0\",\n        role: \"button\",\n        onClick: _this2.handleDownload,\n        onKeyPress: _this2.handleDownload\n      }, React.createElement(Icon, {\n        name: \"download_16\"\n      }));\n      var controlStyle = currentPage.content ? {\n        visibility: 'hidden'\n      } : {};\n      var pageControl = pages.length > 1 ? React.createElement(\"div\", {\n        className: \"md-lightbox__controls md-lightbox__controls--center\"\n      }, React.createElement(Tooltip, {\n        tooltip: tooltips.previous\n      }, React.createElement(\"div\", {\n        className: \"md-lightbox__control\",\n        onClick: function onClick(e) {\n          return _this2.triggerPageChange(index - 1, e);\n        },\n        role: \"button\",\n        tabIndex: \"0\",\n        onKeyPress: function onKeyPress(e) {\n          return _this2.triggerPageChange(index - 1, e);\n        },\n        style: {\n          transform: 'rotate(-180deg)'\n        }\n      }, React.createElement(Icon, {\n        name: \"arrow-right_16\"\n      }))), React.createElement(\"span\", {\n        className: \"md-lightbox__control-value\"\n      }, index + 1 + \" / \" + pages.length), React.createElement(Tooltip, {\n        tooltip: tooltips.next\n      }, React.createElement(\"div\", {\n        className: \"md-lightbox__control\",\n        role: \"button\",\n        onClick: function onClick(e) {\n          return _this2.triggerPageChange(index + 1, e);\n        },\n        tabIndex: \"0\",\n        onKeyPress: function onKeyPress(e) {\n          return _this2.triggerPageChange(index + 1, e);\n        }\n      }, React.createElement(Icon, {\n        name: \"arrow-right_16\"\n      })))) : React.createElement(\"div\", {\n        className: \"md-lightbox__controls\"\n      }, React.createElement(\"span\", {\n        className: \"md-lightbox__control-value\"\n      }, index + 1));\n      return React.createElement(\"div\", {\n        className: \"md-lightbox__viewer-controls\",\n        onClick: _this2.stopPropagation,\n        onKeyPress: _this2.stopPropagation,\n        role: \"button\",\n        tabIndex: \"0\"\n      }, React.createElement(\"div\", {\n        className: \"md-lightbox__controls\",\n        style: controlStyle\n      }, React.createElement(Tooltip, {\n        tooltip: tooltips.zoomOut\n      }, React.createElement(\"div\", {\n        className: \"md-lightbox__control\",\n        onClick: function onClick() {\n          return _this2.setZoom(-0.25);\n        },\n        role: \"button\",\n        tabIndex: \"0\",\n        onKeyPress: function onKeyPress() {\n          return _this2.setZoom(-0.25);\n        }\n      }, React.createElement(Icon, {\n        name: \"zoom-out_16\"\n      }))), React.createElement(\"span\", {\n        className: \"md-lightbox__control-value\"\n      }, Math.round(newHeight * 1.0 / height * 100), \"%\"), React.createElement(Tooltip, {\n        tooltip: tooltips.zoomIn\n      }, React.createElement(\"div\", {\n        className: \"md-lightbox__control\",\n        role: \"button\",\n        onClick: function onClick() {\n          return _this2.setZoom(0.25);\n        },\n        tabIndex: \"0\",\n        onKeyPress: function onKeyPress() {\n          return _this2.setZoom(0.25);\n        }\n      }, React.createElement(Icon, {\n        name: \"zoom-in_16\"\n      })))), pageControl, React.createElement(\"div\", {\n        className: \"md-lightbox__controls\",\n        style: controlStyle\n      }, React.createElement(\"span\", {\n        className: \"md-lightbox__control-value\"\n      }, info.size), React.createElement(Tooltip, {\n        tooltip: downloading ? tooltips.downloading : tooltips.download\n      }, downloading ? React.createElement(\"div\", {\n        className: \"md-lightbox__control md-lightbox__control-spinner\"\n      }, React.createElement(Spinner, {\n        size: 28\n      })) : downloadButton)));\n    };\n\n    return React.createElement(Modal, {\n      includeDefaultStyles: false,\n      getApplicationNode: function getApplicationNode() {\n        return document.querySelector(\"#\" + applicationId);\n      },\n      onExit: this.handleClose,\n      focusDialog: true,\n      titleId: \"md-lightbox\",\n      dialogClass: \"md-lightbox\",\n      underlayClass: \"md-lightbox__container\"\n    }, React.createElement(\"div\", {\n      className: \"md-lightbox__header\",\n      ref: function ref(_ref2) {\n        return _this2.lightBox = _ref2;\n      }\n    }, React.createElement(\"div\", {\n      className: \"md-lightbox__header-item--left\"\n    }, React.createElement(\"div\", {\n      className: \"md-lightbox__header-meta\"\n    }, React.createElement(\"div\", {\n      className: \"md-lightbox__header-sharer\"\n    }, info.sharedBy), React.createElement(\"div\", {\n      className: \"md-lightbox__header-timestamp\"\n    }, info.sharedOn))), React.createElement(\"div\", {\n      className: \"md-lightbox__header-item--center\"\n    }, React.createElement(\"div\", {\n      className: \"md-lightbox__header-name\"\n    }, name)), React.createElement(\"div\", {\n      className: \"md-lightbox__header-item--right\"\n    }, React.createElement(Tooltip, {\n      popoverProps: {\n        isContained: true\n      },\n      tooltip: tooltips.exit,\n      direction: \"bottom-right\"\n    }, React.createElement(\"div\", {\n      className: \"md-lightbox__control\",\n      onClick: this.handleClose,\n      role: \"button\",\n      tabIndex: \"0\",\n      onKeyPress: this.handleClose\n    }, React.createElement(Icon, {\n      name: \"cancel_16\"\n    }))))), React.createElement(\"div\", {\n      className: \"md-lightbox__body\"\n    }, showColumn && getThumbnails(), React.createElement(\"div\", {\n      className: \"md-lightbox__content\",\n      onClick: this.handleClose,\n      onKeyPress: this.handleClose,\n      role: \"button\",\n      tabIndex: \"0\"\n    }, React.createElement(\"div\", {\n      className: \"md-lightbox__viewport\" + (\"\" + (!!currentPage.decrypting && \" md-lightbox__viewport--decrypting\" || '')),\n      ref: function ref(_ref3) {\n        return _this2.viewport = _ref3;\n      }\n    }, pages[index].decrypting && React.createElement(Spinner, {\n      className: \"md-lightbox__decrypting-spinner\"\n    }), getViewport()), showColumn && leftArrowControl, showColumn && rightArrowControl, viewportControls())));\n  };\n\n  return Lightbox;\n}(React.Component);\n\nLightbox.propTypes = {\n  /** @prop ID for Lightbox query lookup */\n  applicationId: PropTypes.string.isRequired,\n\n  /** Determines if info is decrypting | false */\n  decrypting: PropTypes.bool,\n\n  /** @prop Optional downloading css styling | false */\n  downloading: PropTypes.bool,\n\n  /** @prop Set Height value of Lightbox */\n  height: PropTypes.number.isRequired,\n\n  /** @prop Classname appended to img viewport | '' */\n  imgClassName: PropTypes.string,\n\n  /** @prop Initial index of start page | 0 */\n  index: PropTypes.number,\n\n  /** @prop Lightbox information Object | {} */\n  info: PropTypes.shape({\n    sharedBy: PropTypes.string,\n    sharedOn: PropTypes.string,\n    size: PropTypes.string\n  }),\n\n  /** @prop Optional indication if image is rotated | false */\n  isImageRotated: PropTypes.bool,\n\n  /** @prop Required name prop for Lightbox */\n  name: PropTypes.string.isRequired,\n\n  /** @prop Callback function invoked by user when interact with Lightbox | null */\n  onChange: PropTypes.func,\n\n  /** @prop Callback function invoked by user closing the Lightbox | null */\n  onClose: PropTypes.func,\n\n  /** @prop Callback function invoked by the download action of Lightbox | null */\n  onDownload: PropTypes.func,\n\n  /** @prop Array of Lightbox pages */\n  pages: PropTypes.array.isRequired,\n\n  /** @prop Collection of predefined tootips for various Lightbox actions | { download: 'Download', etc } */\n  tooltips: PropTypes.shape({\n    download: PropTypes.string,\n    downloading: PropTypes.string,\n    exit: PropTypes.string,\n    previous: PropTypes.string,\n    next: PropTypes.string,\n    zoomIn: PropTypes.string,\n    zoomOut: PropTypes.string\n  }),\n\n  /** @prop Set Width value for Lightbox */\n  width: PropTypes.number.isRequired\n};\nLightbox.defaultProps = {\n  decrypting: false,\n  downloading: false,\n  imgClassName: '',\n  index: 0,\n  info: {},\n  isImageRotated: false,\n  name: '',\n  onChange: null,\n  onClose: null,\n  onDownload: null,\n  tooltips: {\n    download: 'Download',\n    downloading: 'Downloading...',\n    exit: 'Exit',\n    previous: 'Previous',\n    next: 'Next',\n    zoomIn: 'Zoom in',\n    zoomOut: 'Zoom out'\n  }\n};\nLightbox.displayName = 'Lightbox';\nexport default Lightbox;"]},"metadata":{},"sourceType":"module"}