{"ast":null,"code":"/**\r\n * Extracts Epson flavored Makernotes which are equal to those of Olympus.\r\n */\nexports.extractMakernotes = function (data, makernoteOffset, tiffOffset) {\n  // List of vendor specific Makernote tags found on\n  // http://www.sno.phy.queensu.ca/~phil/exiftool/TagNames/Olympus.html\n  var tags = {\n    0x0000: \"MakerNoteVersion\",\n    0x0001: \"MinoltaCameraSettingsOld\",\n    0x0003: \"MinoltaCameraSettings\",\n    0x0040: \"CompressedImageSize\",\n    0x0081: \"PreviewImageData\",\n    0x0088: \"PreviewImageStart\",\n    0x0089: \"PreviewImageLength\",\n    0x0100: \"ThumbnailImage\",\n    0x0104: \"BodyFirmwareVersion\",\n    0x0200: \"SpecialMode\",\n    0x0201: \"Quality\",\n    0x0202: \"Macro\",\n    0x0203: \"BWMode\",\n    0x0204: \"DigitalZoom\",\n    0x0205: \"FocalPlaneDiagonal\",\n    0x0206: \"LensDistortionParams\",\n    0x0207: \"CameraType\",\n    0x0208: \"TextInfo\",\n    0x0209: \"CameraID\",\n    0x020B: \"EpsonImageWidth\",\n    0x020C: \"EpsonImageHeight\",\n    0x020D: \"EpsonSoftware\",\n    0x0280: \"PreviewImage\",\n    0x0300: \"PreCaptureFrames\",\n    0x0301: \"WhiteBoard\",\n    0x0302: \"OneTouchWB\",\n    0x0303: \"WhiteBalanceBracket\",\n    0x0304: \"WhiteBalanceBias\",\n    0x0403: \"SceneMode\",\n    0x0404: \"SerialNumber\",\n    0x0405: \"Firmware\",\n    0x0E00: \"PrintIM\",\n    0x0F00: \"DataDump\",\n    0x0F01: \"DataDump2\",\n    0x0F04: \"ZoomedPreviewStart\",\n    0x0F05: \"ZoomedPreviewLength\",\n    0x0F06: \"ZoomedPreviewSize\",\n    0x1000: \"ShutterSpeedValue\",\n    0x1001: \"ISOValue\",\n    0x1002: \"ApertureValue\",\n    0x1003: \"BrightnessValue\",\n    0x1004: \"FlashMode\",\n    0x1005: \"FlashDevice\",\n    0x1006: \"ExposureCompensation\",\n    0x1007: \"SensorTemperature\",\n    0x1008: \"LensTemperature\",\n    0x1009: \"LightCondition\",\n    0x100A: \"FocusRange\",\n    0x100B: \"FocusMode\",\n    0x100C: \"ManualFocusDistance\",\n    0x100D: \"ZoomStepCount\",\n    0x100E: \"FocusStepCount\",\n    0x100F: \"Sharpness\",\n    0x1010: \"FlashChargeLevel\",\n    0x1011: \"ColorMatrix\",\n    0x1012: \"BlackLevel\",\n    0x1013: \"ColorTemperatureBG?\",\n    0x1014: \"ColorTemperatureRG?\",\n    0x1015: \"WBMode\",\n    0x1017: \"RedBalance\",\n    0x1018: \"BlueBalance\",\n    0x1019: \"ColorMatrixNumber\",\n    0x101A: \"SerialNumber\",\n    0x101B: \"ExternalFlashAE1_0?\",\n    0x101C: \"ExternalFlashAE2_0?\",\n    0x101D: \"InternalFlashAE1_0?\",\n    0x101E: \"InternalFlashAE2_0?\",\n    0x101F: \"ExternalFlashAE1?\",\n    0x1020: \"ExternalFlashAE2?\",\n    0x1021: \"InternalFlashAE1?\",\n    0x1022: \"InternalFlashAE2?\",\n    0x1023: \"FlashExposureComp\",\n    0x1024: \"InternalFlashTable\",\n    0x1025: \"ExternalFlashGValue\",\n    0x1026: \"ExternalFlashBounce\",\n    0x1027: \"ExternalFlashZoom\",\n    0x1028: \"ExternalFlashMode\",\n    0x1029: \"Contrast\",\n    0x102A: \"SharpnessFactor\",\n    0x102B: \"ColorControl\",\n    0x102C: \"ValidBits\",\n    0x102D: \"CoringFilter\",\n    0x102E: \"OlympusImageWidth\",\n    0x102F: \"OlympusImageHeight\",\n    0x1030: \"SceneDetect\",\n    0x1031: \"SceneArea?\",\n    0x1033: \"SceneDetectData?\",\n    0x1034: \"CompressionRatio\",\n    0x1035: \"PreviewImageValid\",\n    0x1036: \"PreviewImageStart\",\n    0x1037: \"PreviewImageLength\",\n    0x1038: \"AFResult\",\n    0x1039: \"CCDScanMode\",\n    0x103A: \"NoiseReduction\",\n    0x103B: \"FocusStepInfinity\",\n    0x103C: \"FocusStepNear\",\n    0x103D: \"LightValueCenter\",\n    0x103E: \"LightValuePeriphery\",\n    0x103F: \"FieldCount?\",\n    0x2010: \"Equipment\",\n    0x2020: \"CameraSettings\",\n    0x2030: \"RawDevelopment\",\n    0x2031: \"RawDev2\",\n    0x2040: \"ImageProcessing\",\n    0x2050: \"FocusInfo\",\n    0x2100: \"Olympus2100\",\n    0x2200: \"Olympus2200\",\n    0x2300: \"Olympus2300\",\n    0x2400: \"Olympus2400\",\n    0x2500: \"Olympus2500\",\n    0x2600: \"Olympus2600\",\n    0x2700: \"Olympus2700\",\n    0x2800: \"Olympus2800\",\n    0x2900: \"Olympus2900\",\n    0x3000: \"RawInfo\",\n    0x4000: \"MainInfo\",\n    0x5000: \"UnknownInfo\"\n  }; // Epson flavored Makernote data starts after eight bytes\n\n  var ifdOffset = makernoteOffset + 8; // Get the number of entries and extract them\n\n  var numberOfEntries = data.getShort(ifdOffset, this.isBigEndian);\n\n  if (this.options.epsonMaxEntries) {\n    numberOfEntries = Math.min(numberOfEntries, this.options.epsonMaxEntries);\n  }\n\n  var makernoteData = {};\n\n  for (var i = 0; i < numberOfEntries; i++) {\n    var exifEntry = this.extractExifEntry(data, ifdOffset + 2 + i * 12, tiffOffset, this.isBigEndian, tags);\n\n    if (exifEntry && exifEntry.tagName !== null) {\n      makernoteData[exifEntry.tagName] = exifEntry.value;\n    }\n  }\n\n  return makernoteData;\n};","map":{"version":3,"sources":["/Users/pratison/Work/Cisco/Education/React/education-webex/node_modules/exif/lib/exif/makernotes/epson.js"],"names":["exports","extractMakernotes","data","makernoteOffset","tiffOffset","tags","ifdOffset","numberOfEntries","getShort","isBigEndian","options","epsonMaxEntries","Math","min","makernoteData","i","exifEntry","extractExifEntry","tagName","value"],"mappings":"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","sourcesContent":["/**\r\n * Extracts Epson flavored Makernotes which are equal to those of Olympus.\r\n */\r\nexports.extractMakernotes = function (data, makernoteOffset, tiffOffset) {\r\n\r\n  // List of vendor specific Makernote tags found on\r\n  // http://www.sno.phy.queensu.ca/~phil/exiftool/TagNames/Olympus.html\r\n  var tags = {\r\n\r\n    0x0000 : \"MakerNoteVersion\",\r\n    0x0001 : \"MinoltaCameraSettingsOld\",\r\n    0x0003 : \"MinoltaCameraSettings\",\r\n    0x0040 : \"CompressedImageSize\",\r\n    0x0081 : \"PreviewImageData\",\r\n    0x0088 : \"PreviewImageStart\",\r\n    0x0089 : \"PreviewImageLength\",\r\n    0x0100 : \"ThumbnailImage\",\r\n    0x0104 : \"BodyFirmwareVersion\",\r\n    0x0200 : \"SpecialMode\",\r\n    0x0201 : \"Quality\",\r\n    0x0202 : \"Macro\",\r\n    0x0203 : \"BWMode\",\r\n    0x0204 : \"DigitalZoom\",\r\n    0x0205 : \"FocalPlaneDiagonal\",\r\n    0x0206 : \"LensDistortionParams\",\r\n    0x0207 : \"CameraType\",\r\n    0x0208 : \"TextInfo\",\r\n    0x0209 : \"CameraID\",\r\n    0x020B : \"EpsonImageWidth\",\r\n    0x020C : \"EpsonImageHeight\",\r\n    0x020D : \"EpsonSoftware\",\r\n    0x0280 : \"PreviewImage\",\r\n    0x0300 : \"PreCaptureFrames\",\r\n    0x0301 : \"WhiteBoard\",\r\n    0x0302 : \"OneTouchWB\",\r\n    0x0303 : \"WhiteBalanceBracket\",\r\n    0x0304 : \"WhiteBalanceBias\",\r\n    0x0403 : \"SceneMode\",\r\n    0x0404 : \"SerialNumber\",\r\n    0x0405 : \"Firmware\",\r\n    0x0E00 : \"PrintIM\",\r\n    0x0F00 : \"DataDump\",\r\n    0x0F01 : \"DataDump2\",\r\n    0x0F04 : \"ZoomedPreviewStart\",\r\n    0x0F05 : \"ZoomedPreviewLength\",\r\n    0x0F06 : \"ZoomedPreviewSize\",\r\n    0x1000 : \"ShutterSpeedValue\",\r\n    0x1001 : \"ISOValue\",\r\n    0x1002 : \"ApertureValue\",\r\n    0x1003 : \"BrightnessValue\",\r\n    0x1004 : \"FlashMode\",\r\n    0x1005 : \"FlashDevice\",\r\n    0x1006 : \"ExposureCompensation\",\r\n    0x1007 : \"SensorTemperature\",\r\n    0x1008 : \"LensTemperature\",\r\n    0x1009 : \"LightCondition\",\r\n    0x100A : \"FocusRange\",\r\n    0x100B : \"FocusMode\",\r\n    0x100C : \"ManualFocusDistance\",\r\n    0x100D : \"ZoomStepCount\",\r\n    0x100E : \"FocusStepCount\",\r\n    0x100F : \"Sharpness\",\r\n    0x1010 : \"FlashChargeLevel\",\r\n    0x1011 : \"ColorMatrix\",\r\n    0x1012 : \"BlackLevel\",\r\n    0x1013 : \"ColorTemperatureBG?\",\r\n    0x1014 : \"ColorTemperatureRG?\",\r\n    0x1015 : \"WBMode\",\r\n    0x1017 : \"RedBalance\",\r\n    0x1018 : \"BlueBalance\",\r\n    0x1019 : \"ColorMatrixNumber\",\r\n    0x101A : \"SerialNumber\",\r\n    0x101B : \"ExternalFlashAE1_0?\",\r\n    0x101C : \"ExternalFlashAE2_0?\",\r\n    0x101D : \"InternalFlashAE1_0?\",\r\n    0x101E : \"InternalFlashAE2_0?\",\r\n    0x101F : \"ExternalFlashAE1?\",\r\n    0x1020 : \"ExternalFlashAE2?\",\r\n    0x1021 : \"InternalFlashAE1?\",\r\n    0x1022 : \"InternalFlashAE2?\",\r\n    0x1023 : \"FlashExposureComp\",\r\n    0x1024 : \"InternalFlashTable\",\r\n    0x1025 : \"ExternalFlashGValue\",\r\n    0x1026 : \"ExternalFlashBounce\",\r\n    0x1027 : \"ExternalFlashZoom\",\r\n    0x1028 : \"ExternalFlashMode\",\r\n    0x1029 : \"Contrast\",\r\n    0x102A : \"SharpnessFactor\",\r\n    0x102B : \"ColorControl\",\r\n    0x102C : \"ValidBits\",\r\n    0x102D : \"CoringFilter\",\r\n    0x102E : \"OlympusImageWidth\",\r\n    0x102F : \"OlympusImageHeight\",\r\n    0x1030 : \"SceneDetect\",\r\n    0x1031 : \"SceneArea?\",\r\n    0x1033 : \"SceneDetectData?\",\r\n    0x1034 : \"CompressionRatio\",\r\n    0x1035 : \"PreviewImageValid\",\r\n    0x1036 : \"PreviewImageStart\",\r\n    0x1037 : \"PreviewImageLength\",\r\n    0x1038 : \"AFResult\",\r\n    0x1039 : \"CCDScanMode\",\r\n    0x103A : \"NoiseReduction\",\r\n    0x103B : \"FocusStepInfinity\",\r\n    0x103C : \"FocusStepNear\",\r\n    0x103D : \"LightValueCenter\",\r\n    0x103E : \"LightValuePeriphery\",\r\n    0x103F : \"FieldCount?\",\r\n    0x2010 : \"Equipment\",\r\n    0x2020 : \"CameraSettings\",\r\n    0x2030 : \"RawDevelopment\",\r\n    0x2031 : \"RawDev2\",\r\n    0x2040 : \"ImageProcessing\",\r\n    0x2050 : \"FocusInfo\",\r\n    0x2100 : \"Olympus2100\",\r\n    0x2200 : \"Olympus2200\",\r\n    0x2300 : \"Olympus2300\",\r\n    0x2400 : \"Olympus2400\",\r\n    0x2500 : \"Olympus2500\",\r\n    0x2600 : \"Olympus2600\",\r\n    0x2700 : \"Olympus2700\",\r\n    0x2800 : \"Olympus2800\",\r\n    0x2900 : \"Olympus2900\",\r\n    0x3000 : \"RawInfo\",\r\n    0x4000 : \"MainInfo\",\r\n    0x5000 : \"UnknownInfo\"\r\n\r\n  };\r\n\r\n  // Epson flavored Makernote data starts after eight bytes\r\n  var ifdOffset = makernoteOffset + 8;\r\n\r\n  // Get the number of entries and extract them\r\n  var numberOfEntries = data.getShort(ifdOffset, this.isBigEndian);\r\n  if (this.options.epsonMaxEntries) {\r\n    numberOfEntries=Math.min(numberOfEntries, this.options.epsonMaxEntries);\r\n  }\r\n\r\n  var makernoteData = {};\r\n\r\n  for (var i = 0; i < numberOfEntries; i++) {\r\n    var exifEntry = this.extractExifEntry(data, (ifdOffset + 2 + (i * 12)), tiffOffset, this.isBigEndian, tags);\r\n    if (exifEntry && exifEntry.tagName !== null) {\r\n      makernoteData[exifEntry.tagName] = exifEntry.value;\r\n    }\r\n  }\r\n\r\n  return makernoteData;\r\n\r\n};"]},"metadata":{},"sourceType":"script"}