{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _regenerator = require(\"babel-runtime/regenerator\");\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _promise = require(\"babel-runtime/core-js/promise\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _asyncToGenerator2 = require(\"babel-runtime/helpers/asyncToGenerator\");\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n/*!\n * Copyright (c) 2015-2019 Cisco Systems, Inc. See LICENSE file.\n */\n\n/**\n * Helper to ensure we have registered with wdm\n * before calling any internal-plugin-conversations functions\n * @param {Object} webex\n * @returns {Promise}\n */\n\n\nexports.default = function () {\n  var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee(webex) {\n    return _regenerator2.default.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!webex.internal.device.services.conversationServiceUrl) {\n              _context.next = 2;\n              break;\n            }\n\n            return _context.abrupt(\"return\", _promise2.default.resolve());\n\n          case 2:\n            return _context.abrupt(\"return\", webex.internal.device.register());\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  function ensureConvoAvailability(_x) {\n    return _ref.apply(this, arguments);\n  }\n\n  return ensureConvoAvailability;\n}();","map":{"version":3,"sources":["wdm-register.js"],"names":["ensureConvoAvailability","webex"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;AAIA;;;;;;;;;sFAMe,SAAA,OAAA,CAAA,KAAA,EAAA;AAAA,WAAA,aAAA,CAAA,OAAA,CAAA,IAAA,CAAA,SAAA,QAAA,CAAA,QAAA,EAAA;AAAA,aAAA,CAAA,EAAA;AAAA,gBAAA,QAAA,CAAA,IAAA,GAAA,QAAA,CAAA,IAAA;AAAA,eAAA,CAAA;AAAA,gBAAA,CACTC,KAAAA,CAAAA,QAAAA,CAAAA,MAAAA,CAAAA,QAAAA,CADS,sBAAA,EAAA;AAAA,cAAA,QAAA,CAAA,IAAA,GAAA,CAAA;AAAA;AAAA;;AAAA,mBAAA,QAAA,CAAA,MAAA,CAAA,QAAA,EAEJ,SAAA,CAAA,OAAA,CAFI,OAEJ,EAFI,CAAA;;AAAA,eAAA,CAAA;AAAA,mBAAA,QAAA,CAAA,MAAA,CAAA,QAAA,EAKNA,KAAAA,CAAAA,QAAAA,CAAAA,MAAAA,CALM,QAKNA,EALM,CAAA;;AAAA,eAAA,CAAA;AAAA,eAAA,KAAA;AAAA,mBAAA,QAAA,CAAA,IAAA,EAAA;AAAA;AAAA;AAAA,KAAA,EAAA,OAAA,EAAA,IAAA,CAAA;;;WAAeD,uB;;;;SAAAA,uB","sourcesContent":["/*!\n * Copyright (c) 2015-2019 Cisco Systems, Inc. See LICENSE file.\n */\n\n/**\n * Helper to ensure we have registered with wdm\n * before calling any internal-plugin-conversations functions\n * @param {Object} webex\n * @returns {Promise}\n */\nexport default async function ensureConvoAvailability(webex) {\n  if (webex.internal.device.services.conversationServiceUrl) {\n    return Promise.resolve();\n  }\n\n  return webex.internal.device.register();\n}\n\n"]},"metadata":{},"sourceType":"script"}