{"ast":null,"code":"/**\r\n * Extracts Fujifilm flavored Makernotes which are always stored in little\r\n * endian, no matter what the rest of the file is. Additionally the offsets\r\n * are relative to the start of the Makernote instead of the start of the\r\n * TIFF header.\r\n */\nexports.extractMakernotes = function (data, makernoteOffset, tiffOffset) {\n  // List of vendor specific Makernote tags found on\n  // http://www.sno.phy.queensu.ca/~phil/exiftool/TagNames/FujiFilm.html\n  var tags = {\n    0x0000: \"Version\",\n    0x0010: \"InternalSerialNumber\",\n    0x1000: \"Quality\",\n    0x1001: \"Sharpness\",\n    0x1002: \"WhiteBalance\",\n    0x1003: \"Saturation\",\n    0x1004: \"Contrast\",\n    0x1005: \"ColorTemperature\",\n    0x1006: \"Contrast\",\n    0x100a: \"WhiteBalanceFineTune\",\n    0x100b: \"NoiseReduction\",\n    0x100e: \"HighISONoiseReduction\",\n    0x1010: \"FujiFlashMode\",\n    0x1011: \"FlashExposureComp\",\n    0x1020: \"Macro\",\n    0x1021: \"FocusMode\",\n    0x1023: \"FocusPixel\",\n    0x1030: \"SlowSync\",\n    0x1033: \"EXRAuto\",\n    0x1034: \"EXRMode\",\n    0x1100: \"AutoBracketing\",\n    0x1101: \"SequenceNumber\",\n    0x1210: \"ColorMode\",\n    0x1300: \"BlurWarning\",\n    0x1301: \"FocusWarning\",\n    0x1302: \"ExposureWarning\",\n    0x1304: \"GEImageSize\",\n    0x1400: \"DynamicRange\",\n    0x1401: \"FilmMode\",\n    0x1402: \"DynamicRangeSetting\",\n    0x1403: \"DevelopmentDynamicRange\",\n    0x1404: \"MinFocalLength\",\n    0x1405: \"MaxFocalLength\",\n    0x1406: \"MaxApertureAtMinFocal\",\n    0x1407: \"MaxApertureAtMaxFocal\",\n    0x140b: \"AutoDynamicRange\",\n    0x4100: \"FacesDetected\",\n    0x4103: \"FacePositions\",\n    0x4282: \"FaceRecInfo\",\n    0x8000: \"FileSource\",\n    0x8002: \"OrderNumber\",\n    0x8003: \"FrameNumber\",\n    0xb211: \"Parallax\"\n  }; // Start of the Fujifilm flavored Makernote data is determined by the four\n  // bytes following the Makernote vendor name\n\n  var ifdOffset = makernoteOffset + data.getLong(makernoteOffset + 8, false, tiffOffset); // Get the number of entries and extract them\n\n  var numberOfEntries = data.getShort(ifdOffset, false);\n\n  if (this.options.fujifilmMaxEntries) {\n    numberOfEntries = Math.min(numberOfEntries, this.options.fujifilmMaxEntries);\n  }\n\n  var makernoteData = {};\n\n  for (var i = 0; i < numberOfEntries; i++) {\n    var exifEntry = this.extractExifEntry(data, ifdOffset + 2 + i * 12, makernoteOffset, false, tags);\n    if (exifEntry && exifEntry.tagName !== null) makernoteData[exifEntry.tagName] = exifEntry.value;\n  }\n\n  return makernoteData;\n};","map":{"version":3,"sources":["/Users/pratison/Work/Cisco/Education/React/education-webex/node_modules/exif/lib/exif/makernotes/fujifilm.js"],"names":["exports","extractMakernotes","data","makernoteOffset","tiffOffset","tags","ifdOffset","getLong","numberOfEntries","getShort","options","fujifilmMaxEntries","Math","min","makernoteData","i","exifEntry","extractExifEntry","tagName","value"],"mappings":"AAAA;;;;;;AAMAA,OAAO,CAACC,iBAAR,GAA4B,UAAUC,IAAV,EAAgBC,eAAhB,EAAiCC,UAAjC,EAA6C;AAEvE;AACA;AACA,MAAIC,IAAI,GAAG;AACT,YAAS,SADA;AAET,YAAS,sBAFA;AAGT,YAAS,SAHA;AAIT,YAAS,WAJA;AAKT,YAAS,cALA;AAMT,YAAS,YANA;AAOT,YAAS,UAPA;AAQT,YAAS,kBARA;AAST,YAAS,UATA;AAUT,YAAS,sBAVA;AAWT,YAAS,gBAXA;AAYT,YAAS,uBAZA;AAaT,YAAS,eAbA;AAcT,YAAS,mBAdA;AAeT,YAAS,OAfA;AAgBT,YAAS,WAhBA;AAiBT,YAAS,YAjBA;AAkBT,YAAS,UAlBA;AAmBT,YAAS,SAnBA;AAoBT,YAAS,SApBA;AAqBT,YAAS,gBArBA;AAsBT,YAAS,gBAtBA;AAuBT,YAAS,WAvBA;AAwBT,YAAS,aAxBA;AAyBT,YAAS,cAzBA;AA0BT,YAAS,iBA1BA;AA2BT,YAAS,aA3BA;AA4BT,YAAS,cA5BA;AA6BT,YAAS,UA7BA;AA8BT,YAAS,qBA9BA;AA+BT,YAAS,yBA/BA;AAgCT,YAAS,gBAhCA;AAiCT,YAAS,gBAjCA;AAkCT,YAAS,uBAlCA;AAmCT,YAAS,uBAnCA;AAoCT,YAAS,kBApCA;AAqCT,YAAS,eArCA;AAsCT,YAAS,eAtCA;AAuCT,YAAS,aAvCA;AAwCT,YAAS,YAxCA;AAyCT,YAAS,aAzCA;AA0CT,YAAS,aA1CA;AA2CT,YAAS;AA3CA,GAAX,CAJuE,CAmDvE;AACA;;AACA,MAAIC,SAAS,GAAGH,eAAe,GAAGD,IAAI,CAACK,OAAL,CAAaJ,eAAe,GAAG,CAA/B,EAAkC,KAAlC,EAAyCC,UAAzC,CAAlC,CArDuE,CAuDvE;;AACA,MAAII,eAAe,GAAGN,IAAI,CAACO,QAAL,CAAcH,SAAd,EAAyB,KAAzB,CAAtB;;AACA,MAAI,KAAKI,OAAL,CAAaC,kBAAjB,EAAqC;AACnCH,IAAAA,eAAe,GAACI,IAAI,CAACC,GAAL,CAASL,eAAT,EAA0B,KAAKE,OAAL,CAAaC,kBAAvC,CAAhB;AACD;;AAED,MAAIG,aAAa,GAAG,EAApB;;AAEA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGP,eAApB,EAAqCO,CAAC,EAAtC,EAA0C;AACxC,QAAIC,SAAS,GAAG,KAAKC,gBAAL,CAAsBf,IAAtB,EAA6BI,SAAS,GAAG,CAAZ,GAAiBS,CAAC,GAAG,EAAlD,EAAwDZ,eAAxD,EAAyE,KAAzE,EAAgFE,IAAhF,CAAhB;AACA,QAAIW,SAAS,IAAIA,SAAS,CAACE,OAAV,KAAsB,IAAvC,EAA6CJ,aAAa,CAACE,SAAS,CAACE,OAAX,CAAb,GAAmCF,SAAS,CAACG,KAA7C;AAC9C;;AAED,SAAOL,aAAP;AAED,CAtED","sourcesContent":["/**\r\n * Extracts Fujifilm flavored Makernotes which are always stored in little\r\n * endian, no matter what the rest of the file is. Additionally the offsets\r\n * are relative to the start of the Makernote instead of the start of the\r\n * TIFF header.\r\n */\r\nexports.extractMakernotes = function (data, makernoteOffset, tiffOffset) {\r\n\r\n  // List of vendor specific Makernote tags found on\r\n  // http://www.sno.phy.queensu.ca/~phil/exiftool/TagNames/FujiFilm.html\r\n  var tags = {\r\n    0x0000 : \"Version\",\r\n    0x0010 : \"InternalSerialNumber\",\r\n    0x1000 : \"Quality\",\r\n    0x1001 : \"Sharpness\",\r\n    0x1002 : \"WhiteBalance\",\r\n    0x1003 : \"Saturation\",\r\n    0x1004 : \"Contrast\",\r\n    0x1005 : \"ColorTemperature\",\r\n    0x1006 : \"Contrast\",\r\n    0x100a : \"WhiteBalanceFineTune\",\r\n    0x100b : \"NoiseReduction\",\r\n    0x100e : \"HighISONoiseReduction\",\r\n    0x1010 : \"FujiFlashMode\",\r\n    0x1011 : \"FlashExposureComp\",\r\n    0x1020 : \"Macro\",\r\n    0x1021 : \"FocusMode\",\r\n    0x1023 : \"FocusPixel\",\r\n    0x1030 : \"SlowSync\",\r\n    0x1033 : \"EXRAuto\",\r\n    0x1034 : \"EXRMode\",\r\n    0x1100 : \"AutoBracketing\",\r\n    0x1101 : \"SequenceNumber\",\r\n    0x1210 : \"ColorMode\",\r\n    0x1300 : \"BlurWarning\",\r\n    0x1301 : \"FocusWarning\",\r\n    0x1302 : \"ExposureWarning\",\r\n    0x1304 : \"GEImageSize\",\r\n    0x1400 : \"DynamicRange\",\r\n    0x1401 : \"FilmMode\",\r\n    0x1402 : \"DynamicRangeSetting\",\r\n    0x1403 : \"DevelopmentDynamicRange\",\r\n    0x1404 : \"MinFocalLength\",\r\n    0x1405 : \"MaxFocalLength\",\r\n    0x1406 : \"MaxApertureAtMinFocal\",\r\n    0x1407 : \"MaxApertureAtMaxFocal\",\r\n    0x140b : \"AutoDynamicRange\",\r\n    0x4100 : \"FacesDetected\",\r\n    0x4103 : \"FacePositions\",\r\n    0x4282 : \"FaceRecInfo\",\r\n    0x8000 : \"FileSource\",\r\n    0x8002 : \"OrderNumber\",\r\n    0x8003 : \"FrameNumber\",\r\n    0xb211 : \"Parallax\"\r\n\r\n  };\r\n\r\n  // Start of the Fujifilm flavored Makernote data is determined by the four\r\n  // bytes following the Makernote vendor name\r\n  var ifdOffset = makernoteOffset + data.getLong(makernoteOffset + 8, false, tiffOffset);\r\n\r\n  // Get the number of entries and extract them\r\n  var numberOfEntries = data.getShort(ifdOffset, false);\r\n  if (this.options.fujifilmMaxEntries) {\r\n    numberOfEntries=Math.min(numberOfEntries, this.options.fujifilmMaxEntries);\r\n  }\r\n\r\n  var makernoteData = {};\r\n\r\n  for (var i = 0; i < numberOfEntries; i++) {\r\n    var exifEntry = this.extractExifEntry(data, (ifdOffset + 2 + (i * 12)), makernoteOffset, false, tags);\r\n    if (exifEntry && exifEntry.tagName !== null) makernoteData[exifEntry.tagName] = exifEntry.value;\r\n  }\r\n\r\n  return makernoteData;\r\n\r\n};"]},"metadata":{},"sourceType":"script"}